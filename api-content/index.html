{"posts":[{"title":"学XAFS要多久","content":"很多人想在开始学之前知道这个问题的答案，可惜不是一个很短的时间。(7 min 33 s) 阅读提示1：回答仅代表我一个人的看法，不代表正确解决问题的办法。我有不知道答案的问题，也有不懂回答错误的问题。如果我有讲错地方，请告诉我还有其他人。 阅读提示2：问题来源于B站or微博，问题有可能被重新整理。如果你的提问被收入但觉得不合适，请联系我。 阅读提示3：我的一些回答可能会很有争议。如果你不喜欢，那就不喜欢。 问：学习同步辐射吸收技术要多久？ 答：取决于你的需求，但通常来说比学习大部分你在自己学校能接触的仪器表征要长很多。建议在看我的教程之前对你自己学习目的有个明确的了解。个人认为大致分为几类： 1. 一站式从设计实验到发表文章； 2. 张三合成样品，李四帮着拿到了数据，张三需要自行处理数据然后自己写文章； 3. 张三合成样品，李四帮你做了实验也写了表征这一块，但是张三需要把文章剩下的部分比较流畅地结合在一起再发表； 4. 张三的课题不需要这门技术，但是看文献的时候经常遇到，不知道其他人在讲什么但又想了解下。 显而易见，从上到下难度依次降低，需求也是从大到小，耗时自然是从长到短。其实如果再继续细分，在第一类之前还可以有专门做instrumentation的人，远在我能力之上。然而他们大多是理论物理方向或者是工程机械方向，对生化环材四大天坑这方面已经没有太大的关系了。我们可以主要来讨论这四类学习目的的耗时。 以我自己为例，我应该是第一类中比较比较弱的那种，因为我对工程和理论计算这一块几乎不涉及。我在一开始有上过理论方面的workshop再死皮赖脸地抱了大约一年快要毕业（几乎不怎么管我）的大腿。然后可以勉强从做实验到出一套很简单的EXAFS数据，但是那个时候我没有一troubleshooting的能力。差不多再过了一年，我觉得我对EXAFS的理解有了质的飞跃。这中间看书尝试各种数据是必要的，重要的转折是我接了一个很重要的课题，我不得不往XAFS上面下了很大的力气。 虽然说把整个实验掌握在自己的眼里是最放心不过而且自由度最高，但是整个过程并不愉悦，要经历各种各样令人崩溃的挫折还要承受全方位的压力。自己亲身经历过有人在实验室出现意外把我吓到差点打911 而且不是所有人的课题都如此依赖XAFS。总的来讲，前前后后我认为至少一年的全力投入不能少，实战经历也需要至少一到两次。 第二类模式是我目前收到最多提问的。虽然乍一看是互惠互利的合作模式，其实坑很多。第一步中李四可能不会多问张三的样品，导致第二步做实验的时候选择的实验仪器不合适，数据质量不好。最后一步，张三处理数据的时候甚至不知道It、Io是什么，也不确定数据里面出现奇怪的东西是什么。内心疯狂怀疑人生是自己处理数据能力太差还是数据质量本来就不合格？ 再者，等写文章的时候由于不是自己做的实验，experiment detail一块缺少了很多细节，给人一种不严谨的感觉。我自己处理过一些数据质量很差的XAFS图，其中大约有80%可以总结出来下一次可以改进实验的方法来提高数据质量。然而采用第二类合作模式的李四很有可能没时间或者是不愿意做重复的实验，一方面是时间紧张，另一方面这李四认为张三可以在后期数据处理的时候“力挽狂澜”。如果这样， 张三就必须得具有良好的XAFS数据处理能力，很可惜我见过这样的“张三”不多。或者说这样的“张三”很有可能是第一类。 对于第二类模式，在有大腿庇佑的情况下张三也许半年到一年可以具备最基本的数据解析能力。 但我更担心的是张三以为自己会分析数据了，其实根本没有学到位。 第三类常见于同步辐射实验室内课题组与非同步辐射实验室课题组的合作。个人感觉是比第二种好，张三只要把自己有用的信息摘出来修改修改就能拼在一起，剩下的单独放成一段就完事。但是这有一个前提——李四不是一个憨憨。见过某些驻扎在同步辐射课题组的人合作的时候敷衍了事，毫不负责 。发文章的时候赖死赖活还要个通讯。这种事情不仅发生在同步辐射实验室，各色各类的合作都可能存在这样的风险。但问题是XAFS的门槛高，即使想去了解一些基本知识也会比常见表征花的时间要久一些。很多人过于相信在同步辐射实验室内课题组的能力，自己也懒于了解，被蒙在鼓里也不知道怎么一回事。 在我看来，即使是你不想做XAFS实验，只要XAFS数据出现在了你的文章，就有责任去了解。在有人的帮助下，听一个workshop或者是与有经验且靠谱负责的人多交流就可以足够了。 如果说非常信任合作对象，几门课的时间就能了解大概，输出文章也不是负担很大的事。 （遇到这么好的合作者赶紧把他/她大腿抱住不松手吧） 第四类需求其实完全可以通过阅读日积月累来解决，突击一个星期也就解决了。关键问题是看什么样的文献。首先发表在高影响因子杂志的文章不是第一选择，因为通常来说，影响因子越高的期刊它们的读者更为广泛，内容相对来说更加通俗，带来的问题就是对每一个表征的论述不会落到每个细节。自己去看这样的综合性文章，会有一种看得眼花缭乱似懂非懂其实没懂的体会，最后可能也就是记住了“赵四催化剂老厉害了”、“王五用的表征都好高级”。除此之外，特别专业的XAFS相关学术文章（research article）也不适合作为入门来看。理由很简单，通常他们的背景大多是物理相关，离应用太远。花了大力气看但是收效甚微，特别打击学习心态。 个人的经历来看比较好入门了解的是可以有两类：1. 研究XAFS大佬们的workshop或者是summer school presentation；2. 有具体应用（例如电催化）、并且极度依赖XAFS证据的文章。前者是由最懂XAFS的，甚至是制定游戏规则的专家面向入门新手介绍XAFS，用语简洁易懂为新手着想，权威性也很高。对于看到这篇文的你，可能最大的问题就是语言这一关了。第二种的文章其实不多见了，有机会可以找给大家看看。今天的重点不是这个了。 目前来说我能想到的大约就着四类学习目的了，如果你是这四类以外的人也请让我了解下嘛~ 注：部分内容先发于B站专栏《08/05 关于学习XAFS》。 感谢你的阅读。 ","link":"https://twocircles24.github.io/post/how-long-for-xafs/"},{"title":"你问我不一定答 | 第一期","content":"这是我目前想到比较合适且自由度较高的一种方式来归纳大家问过的问题。也许你的问题已经有人问过了。(5 min 38 s) 阅读提示1：回答仅代表我一个人的看法，不代表正确解决问题的办法。我有不知道答案的问题，也有不懂回答错误的问题。如果我有讲错地方，请告诉我还有其他人。 阅读提示2：问题来源于B站or微博，问题有可能被重新整理，先后顺序不代表任何重要程度，如果你的提问被收入但觉得不合适，请联系我。 Q1: 有没有相关书推荐看一下 A1: 参考下《安利一些XAFS读物》。 Q2：张三材料在R空间中出峰位置在1.4 Å，我需要调节Rbkg的值吗？如果不调节直接在Artemis里面拟合，那个R范围太小了，独立参数不够4个，增加Rmax的值拟合效果又不好 A2: Rbkg的通常的选择标准是是1.0 Å 或者是第一层的一半（1.4 Å /2 = 0.7 Å），很少有大于1.0 Å的情况； 在Artemis里面，Rmin 的选择是受限于Athena里面的Rbkg，也就是Rmin ≥ Rbkg。例如张三选择了1.4 Å，他在Artemis里只能从1.4 Å开始拟合； 要解决独立参数不够，需要回到Athena里重新设定Bbkg。然后在Artemis里面加载修改过后的数据进行拟合。 Q3. 如果张三现在只有一张归一化以后的oringin图，没有原始数据。横坐标是Photon Energy 纵坐标是Normatlized intensity(arb. units)，但是可以知道每一条曲线的点的具体坐标，这种情况下可以分析吗？ A3: 张三可。取出数据保存为txt，然后到Athena里面import data。Y轴对Y轴，X轴对X轴。把data type选为norm(E)； 在Athena界面中，因为已经加载为norm(E)，无法修改做背景消除和归一化操作，但可以修改Fourier Transform的参数。 Q4. 在Athena一开始加载原始数据的时候。能量列和分子、分母的模块出现了十几个方框，张三将能量选为1，分子分母分别选择I0、It得到的谱图有非常多的峰，并且看不到明显的吸收边， A4: 由于各个同步辐射实验室的程序不同，它们写入XAFS的数据也是会有差别的。所以经常会出现“I0”不是真I0的事情，不能完全相信文本里面的标签； 最理想的情况是应当询问beamline的工作人员或者是采样的人，搞清楚到底哪一列是什么数据； 如果第二条无法实现，那么先回想一下这个数据用的是吸收谱还是荧光谱，再回到数据文本里面去寻找or猜测。 Q5: 在能量矫正的时候，第一微分图里面第一个峰不是最强峰，那么该选择第一个峰还是最强峰？ A5: E0 位置的定义是人为的，所以理论来说这两个地方都可以。到后期做Artemis拟合会有修正项。 如果第一个峰不是最强的，我猜测是有pre-edge，那么我个人习惯是不用第一个峰，而是用最强的。因为pre-edge是由于1s-nd跃迁，而真正的XANES是1s-np跃迁。 Q6: 那个E0和Calibrate的E有啥区别呢 A6: Calibrate Energy通常是指利用校正一个已知样品的E0，比如纯金属（metal foil），从而修正自己未知样品的能量偏移。因为在实验中，能量可能存在偏移。可以类比在XPS技术中大家经常用Carbon 1s的284.8 eV来进行校正。 E0 理论来讲是样品受到X射线后，内层电子吸收射线后逃逸出的阈值，然而在实际经验中大家是人为在Athena里面人为定义这个阈值，也就是Athena里面的E0。完了之后去Artemis里面微调。 Q7: FEFF 或者是Artemis 中的.inp文件可以自己进行修改吗？或者自己构建的模型，怎么可以得到相应的inp文件？ A7: 可。保存为inp文件，然后用notepad打开直接文本修改。也可以拖到Originlab里面直接好给你断列做点加减法； 如果想在Artemis里面加载自己的模型，最低要求是需要拿到xyz文件。利用Vesta软件打开，然后保存为cif文件格式即可去Artemis加载了。 Q8: 张三用DFT计算的xyz文件用vesta导出了cif，但是在artemis里运行feff时，显示 you have defined ipot 2 but not used it in the atom list，是为什么呢？2也是中心原子的元素 A8: 导出来inp文件，用Excel或者是Orginlab来修改。把ipot 2的位置删掉后，再让后面的ipots往前推一位。完了再复制回FEFF窗口运行就行了； 这是一个常见的问题，不要害怕。 Q9: webatom这个网页打不开是因为需要翻墙吗 A9: 不，是服务器垃圾。但也许科学上网可以一试； 注意上传的文件得放在全英文的路径中。 Q10: 多个壳层的path，可以从不同晶体文件里获得吗？ A10: 思路以结构类似为准。先保证结构足够类似，原子距离足够接近； 优先一个晶体能全部拿下，那是最好的； 如果一个晶体拿不下（常见情况），完全可以取不同的晶体结构，但依然需要满足条件1。 ","link":"https://twocircles24.github.io/post/youask-ianswer-1/"},{"title":"安利一些XAFS读物","content":"There is a high learning curve for XAFS technique, be patient. 由于我自己在外面读书，接触到的中文教材不多，大部分推荐的都是英文读物。请不必太过害怕阅读英文教材，作者们的讲得真的很透彻。 阅读提醒：对书籍和文章的评价仅代表我个人的看法， 属于安利向，没有网盘。 讲义 💻 目前觉得比较系统还比较新的就是北京同步辐射的课件了，链接在这里。 书籍 📚 XAFS for Everyone 居家必备，从实验准备到数据处理，一步到位。画风卡通，内容深入浅出。如果你的课题组只需要一本参考书，这本可以有。 Introduction to XAFS: A Practical Guide to X-ray Absorption Fine Structure Spectroscopy 一本篇幅不多的好书。在数理方面对XAFS技术的阐述更为透彻，值得一读。 X-Ray Absorption and X-Ray Emission Spectroscopy: Theory and Applications 虽然书名有Absorption和Emission，我个人感觉对Emission的内容侧重更多。我读了一部分，内容相对难磕。但是你有做发射谱的需求，同样安利。这本书给我讲懂了phase correction。 To be continued 文献 📄 怎样算作比较严谨的发表EXAFS数据：ACS Catal. 2018, 8, 8, 7566–7577 为什么我说单单比较吸收边(edge position, aka. E0)的相对位置不能得到氧化态差异的结论：Catal. Sci. Technol. 2016,6, 6339-6353 小波转换EXAFS的原理以及Morlet function参数考量：Physical Review B 2005, 71 (9), 094110. 关于过渡金属pre-edge的综述，文献比较老但可以当做参考图来看：X‐Ray Spectrom., 2008, 37: 572-584. Modulated exciation EXAFS的应用，适用于活性位点比例低的可逆反应。我个人很喜欢的一篇：Phys. Chem. Chem. Phys., 2015,17, 10579-10591 如果你好奇in-situ cell的设计还有价格：J. Synchrotron Rad. 2018. 25, 1673–1682 To be continued 其他 Bonus 美国部分同步辐射国家实验室的图集 📷 就当虚拟参观了2333 Argonne National Laboratory Brookhaven National Laboratory SLAC National Accelerator Laboratory ","link":"https://twocircles24.github.io/post/xafs-reading/"},{"title":" Athena新手教程 | 补充说明和讨论","content":"为了可以更好的归档问题懒得出视频，在这里动态更新Blog记录大家的问题还有回复。 视频：Athena新手教程 | 同步辐射吸收谱(XAS)数据处理 Bilibili，YouTube 个人认为最容易出现问题的地方 -1. 敲黑板重点：所有路径（包括安装文件）所有文件均使用英文，且任何文件夹/文件名使用下划线&quot;_&quot;来替代空格space。否则Demeter系列的软件会报错，无法处理数据 0. 在Athena中加载数据的前一步，建议你去Main window下面的Plugin registry 勾选上所有方框，这样以后就可以加载大部分来自不同beamline的实验初始数据。 Figure 1. Athena 主界面 Figure2. Plugin registry界面 1. 加载数据时的若干细节 (Figure 3) Figure 3. Import data 界面 红线： 很多时候原始数据标注的名字，eg. It和Io，并非是真的实验环境中的透射光或者是入射光。你需要： (1) 如果是你负责采数据，你需要在实验的过程中记录每列数据的真正含义，询问beamline staff就可以得到答案； (2) 如果是别人采集的数据，问TA or 自己试。 蓝线：如果是透射谱，遵循Beer–Lambert law，记得勾选上Natural log。也可通过下放的 μ\\muμ(E)表达式来确认是否勾选成功了。如果是荧光谱，则不要勾选Natural log。 黄线： Data type允许你加载不同的XAFS文件： (1) μ\\muμ(E)：XAFS最原始的数据，你需要加减乘除来得到初始数据； (2) XANES：顾名思义，能量范围比较短，没有EXAFS region； (3) norm(E)：已经归一化之后的数据，也就是说通过这样的形式加载，你无法做XAFS数据的背景调整，只能从k空间开始； (4) chi(k)：k空间数据，没有kn加权； (5) xmu.dat：从FEFF软件里面导出的文件。 绿线： 一定一定一定要加载参照谱图（reference spectra），否则无法进行能量校正。 2. E0的选择 在这里先引用在Bilibili下面的Q&amp;A，之后对E0有独立讨论。又是一个Flag Q：E0和你Calibrate的E有啥区别呢 A：Calibrate Energy通常是指校正一个已知样品的E0,比如金属。E0理论来讲是样品中内层电子吸收光能逃逸出的阈值，然而在实际经验中大家是人为在Athena里面人为定义这个阈值，也就是Athena里面的E0。完了之后去Artemis里面微调。 Q：在能量矫正的时候，我的第一微分图里面第一个峰不是最强峰，那么我该选择第一个峰还是最强峰？ A：E0位置的定义是人为的，所以理论来说这两个地方都可以。你到后期做Artemis拟合会有修正项。如果第一个峰不是最强的，我猜测是有pre-edge，那么我个人习惯是不用第一个峰，而是用最强的。因为pre-edge是由于1s-nd跃迁，而真正的XANES是1s-np跃迁。 2. 去除图里面的尖刺（参照视频P7） Figure 4. Glitches at ca. 10 Å-1 3. 保存数据作图 Figure 5. 到左上角File去保存数据 红线：你可以保存的文件格式，包含了（从上往下）一阶微分XANES，XANES，k3加权k空间，EXAFS R空间，EXAFS R空间的虚部。 红线：如果从Save marked group as... 选择数据，你会保存在右边所有勾选的数据。R空间的权重，是由右方Plotting k-weights 决定的，建议在保存数据前先用右边的展示功能键刷新下。 蓝线： Save current group as... 代表你只会保存右边蓝色高亮的数据，比如图中的Fe_lepidocrocite.000。 Figure 6. 保存文件为.txt后缀 大部分输出的数据会有奇奇怪怪的后缀，这是作者为了区分数据的类型（XANES，k空间，R空间 and so on）。但是大部分数据都是可以通过notepad（也就是经常读.txt）打开的。建议直接保留数据类型，把后缀名改成.txt，方便后续数据转移和画图，Figure. 6。 ","link":"https://twocircles24.github.io/post/athena-basic-tutorial/"},{"title":"Hello Gridea","content":"👏 欢迎使用 Gridea ！ ✍️ Gridea 一个静态博客写作客户端。你可以用它来记录你的生活、心情、知识、笔记、创意... ... Github Gridea 主页 示例网站 特性👇 📝 你可以使用最酷的 Markdown 语法，进行快速创作 🌉 你可以给文章配上精美的封面图和在文章任意位置插入图片 🏷️ 你可以对文章进行标签分组 📋 你可以自定义菜单，甚至可以创建外部链接菜单 💻 你可以在 Windows，MacOS 或 Linux 设备上使用此客户端 🌎 你可以使用 𝖦𝗂𝗍𝗁𝗎𝖻 𝖯𝖺𝗀𝖾𝗌 或 Coding Pages 向世界展示，未来将支持更多平台 💬 你可以进行简单的配置，接入 Gitalk 或 DisqusJS 评论系统 🇬🇧 你可以使用中文简体或英语 🌁 你可以任意使用应用内默认主题或任意第三方主题，强大的主题自定义能力 🖥 你可以自定义源文件夹，利用 OneDrive、百度网盘、iCloud、Dropbox 等进行多设备同步 🌱 当然 Gridea 还很年轻，有很多不足，但请相信，它会不停向前 🏃 未来，它一定会成为你离不开的伙伴 尽情发挥你的才华吧！ 😘 Enjoy~ ","link":"https://twocircles24.github.io/post/hello-gridea/"}]}