<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://twocircles24.github.io</id>
    <title>两个圈 Two Circles</title>
    <updated>2020-09-04T06:04:38.247Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://twocircles24.github.io"/>
    <link rel="self" href="https://twocircles24.github.io/atom.xml"/>
    <subtitle>My anger matters, so does yours. </subtitle>
    <logo>https://twocircles24.github.io/images/avatar.png</logo>
    <icon>https://twocircles24.github.io/favicon.ico</icon>
    <rights>All rights reserved 2020, 两个圈 Two Circles</rights>
    <entry>
        <title type="html"><![CDATA[我用到的付费订阅流媒体 | Entertainment Subscription]]></title>
        <id>https://twocircles24.github.io/post/entertainment-sharing/</id>
        <link href="https://twocircles24.github.io/post/entertainment-sharing/">
        </link>
        <updated>2020-09-03T15:04:34.000Z</updated>
        <content type="html"><![CDATA[<!-- more -->
<br/>
<p>上次闲聊到了安在手机上付费订阅制的 APP，这次就分享下专门用于 PhD 精神文明建设的订阅服务，在实验室操劳了 N 个小时后，只想打开电脑/电视机摸鱼 XD</p>
<br/>
<hr>
<br/>
<h2 id="bilibili-大会员"><a href="https://www.bilibili.com/read/cv6020185/">Bilibili 大会员</a></h2>
<ul>
<li>国区价格：¥233/年</li>
<li>评分：9/10</li>
<li>适用：喜欢用弹幕配合看番的</li>
</ul>
<p>我自然是有除了教程之外的账号啦，老B站用户了。不为其他的，就是看番，而且看老番居多。双十的时候（不是双十一）还有半价优惠来着？吃晚饭的时候点开一集 Jojo 下饭舒服的一批。美国流媒体平台至今没上第五部，而且英文字幕看着也不爽，最重要的是不少番还是要弹幕下饭的。通常圣诞节的时候我也不会去哪里玩（太累了），基本上就在家打开B站躺着看一天的动画就算过节了。</p>
<p>就算不买会员，我也喜欢用B站看童年电视剧。毕竟现在国产剧精品数量太少，而且没有精力追国产的。有时候剧荒就会打开B站看老电视剧消遣。除了国产，B站也买了像是 Killing Eve 这样的外国电视剧（需要大会员）。如果我没来得及当季追剧的话，就上B站看看了。</p>
<br/>
<hr>
<br/>
<h2 id="transocks-穿梭"><a href="https://transocks.org/">Transocks 穿梭</a></h2>
<ul>
<li>价格：¥260/年</li>
<li>评分：7/10</li>
<li>适用：在外面想看国内的视频还有听歌</li>
</ul>
<p>钱钟书那句说烂的话：墙外的人想进来，墙内的人想出去。国内的一些娱乐我还是无法割舍掉的，比如B站。所以使用正确的姿势网上冲是必要前提。价格也还能接受，尤其是跟 App Store 里面那些 APP 比起来已经很良心了。加上多个平台可用，包括浏览器插件。被同学安利了之后就入坑了。总体来说，基本上可以看我喜欢的视频和听我喜欢的歌，偶尔会抽风。</p>
<hr>
<h2 id="网易云黑胶-vip"><a href="https://music.163.com/">网易云黑胶 VIP</a></h2>
<ul>
<li>国区价格：¥138/年</li>
<li>评分：6/10</li>
<li>适用：喜欢网易云推荐算法的，不太在意曲目少的用户</li>
</ul>
<p>虽然网易云之前一直被吐槽吃相难看曲库稀少（连周杰伦都不愿意合作），但实在是喜欢它算法给出来的推荐歌曲。有些推荐出来的歌收听量不高但是很合胃口，我买它会员纯粹是主观喜好。掐指一算我大概用网易云已经快有六七年时间了？试图切换到QQ音乐感觉完全适应不了。而且打折活动多，有时候六七折就能买 12 个月会员。动漫和电视剧的 OST 曲库也还可观，有一种“续就续吧”的佛系态度。</p>
<br/>
<hr>
<br/>
<h2 id="spotify"><a href="https://www.spotify.com/">Spotify</a></h2>
<ul>
<li>美区学生价格：$4.99/year + free Showtime &amp; Hulu</li>
<li>评分：8/10</li>
<li>适用：在美国的穷学生</li>
</ul>
<p>Spotify 在美国的普及率很高，曲库也是最全的。一开始订阅 Spotify 是因为周杰伦的歌在网易云下架，再加上始终挂网络软件会影响网速。初用 Spotify 的时候很不能理解为什么这么多人用它，感觉推荐歌曲一点都不合胃口，使用逻辑和国内的音乐类 APP 也完全不同，还没有歌词显示。是的，纯粹是为了听周杰伦的歌才掏钱的。</p>
<p>后来意识到 Spotify 的厉害之处是它任一平台的同步。简单来说，Spotify 不仅是和美国市面上主流智能设备都有 APP 可以使用，而且可以做到一个设备可以控制所有平台的音乐播放，包括 Carplay。举个例子，我可以用我的手机控制 Spotify 的播放从家里面的电视到卧室的台式机再到厨房里面的 Google Home Mini。我目前来说还没有遇到能和 Spotify 对抗的软件，真的是用了就回不去了。只要有一个智能设备，Spotify 必能适配。</p>
<p>除了强大的同步能力，我也逐渐发现 Spotify 其他好处。比如周杰伦最新的 EP 发布几乎是第一时间，也可以当作一个泛用型 APP 来收听 Podcast，在 YouTube 上听到的歌单基本上在 Spotify 上面可以找到。</p>
<p>缺点嘛，我非常钟意的歌单数量还是太少，使用逻辑还不是最顺手的。华语歌曲还是偏怀旧情绪的。</p>
<br/>
<hr>
<br/>
<h2 id="netflix"><a href="https://www.netflix.com/">Netflix</a></h2>
<ul>
<li>美区家庭账户：$14.99/month for5 users</li>
<li>评分：10/10</li>
<li>适合：在家看剧必备呀！</li>
</ul>
<p>美国 Netflix &amp; Chill 的梗不是白说的，几乎没有人在美国可以抗拒 Netflix。曾经我也是被《纸牌屋》吸引订阅，但是当时只有笔记本来看电视剧，就只买了最基本的。后来搬家买了 4k 电视，直接上了最高的账户订阅，不想工作的摸鱼时光就完全被 Netflix 给占领了。</p>
<p>除了大热的 IP 作品，Netflix 近几年对亚洲市场的野心是肉眼可见的，尤其是韩国和台湾市场。作为用户的好处就是能同步追韩剧了，而且自带中文字幕！这可是其他的美国流媒体平台不具备的（最多也就弱小的 Apple TV+）。追剧体验满分！与此同时，Netflix 收了一众过去的片源，完全是为我补剧打开了新世界，还有周星驰的电影全集（狂喜）。Netflix 做的真人秀也是贼让人上头，最近我和室友一起看《印度媒婆》简直是跟当下适婚年龄男女的魔幻现实有着神一样的契合，我直接一天就看完了。暌违已久的《秘密森林》也是每周末就能准时追到的，太开心了。<s>才不要工作呢</s></p>
<p>Netflix 播放也可以通过手机来操控，几乎没什么短板。满分满分！硬说缺点，大概就是让我根本不想工作吧0.0</p>
<br/>
<br/>
<p>说真的，流媒体付费相比于软件是更容易让我掏钱的，毕竟电视剧电影音乐一类都是靠烧钱起来的。美国最近流媒体大战也是愈演愈烈，作为流媒体老大 Netflix，要遭遇 Apple TV+ 和 Disney+ 的双面夹击。Apple 也是财大气粗直接送了用户一年的 Apple TV+ 订阅，白嫖了《灰狗号》和《早间新闻秀》体验也是不错的，就是片源太少，实在是没有挽留用户的资本。Disney+ 也是一度想订阅，但是看了下片库似乎除了《汉密尔顿》和《木兰》（还要单独掏钱），其他的我不是特别感兴趣。另外一个流媒体平台 Hulu 也是不得不提的，买了很多日本动漫，可惜没有中文字幕，我想都没想就投了B站。还有就是 Amazon 流媒体，作为 Amazon Prime 会员直接享用，我反而不会太留意它。只用过几次，没想到上面还有不少好片子，但是软件方面始终做不过 Netflix 的体验。</p>
<p><strong>总结：Netflix 牛逼。</strong></p>
<br/>
<br/>
<br/>
<br/>
<pre><code>感谢你的阅读
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[能量校准 Calibration]]></title>
        <id>https://twocircles24.github.io/post/energy-calibration/</id>
        <link href="https://twocircles24.github.io/post/energy-calibration/">
        </link>
        <updated>2020-08-31T03:50:38.000Z</updated>
        <summary type="html"><![CDATA[<p>(7 min 30 s reading) 真没想过这个问题能成日经问答了……</p>
]]></summary>
        <content type="html"><![CDATA[<p>(7 min 30 s reading) 真没想过这个问题能成日经问答了……</p>
<!-- more -->
<br/>
<p>涉及到的视频有：<a href="https://www.bilibili.com/video/BV1364y1F7tw">《能量校正 Calibration |  XAFS 数据处理》</a>、<a href="https://www.bilibili.com/video/BV1yz411e7gu">《Athena新手教程 | 同步辐射吸收谱(XAS)数据处理》</a>和<a href="https://www.bilibili.com/video/BV1jK4y1Y71X/">《E0, Edge Energy &amp; 吸收边 | XAFS数据处理参数讨论》</a>。</p>
<p>目前收到被问最多的问题，今天来仔细讲下。最初这个问题是从 <em>Athena</em> 的教程里面引出：在加载原始数据到 <em>Athena</em> 后，到 <em>Calibration</em> 窗口进行校正。<strong>在已经看过 <em>Athena</em> 新手教程到基础上</strong>，我们来进一步了解这个“校正”这个操作。</p>
<p>先说明的是，这一个概念完全可以类比 XPS 里面的数据处理。在早前教程里面没有过多涉及这个问题是因为这个点跟实验操作相关性很大，在没有做过相关实验的前提下，理解起来会有难度。</p>
<p><strong>需要留意的是，在这里我指的未知样品是你测得的透射谱 ln(I<sub>0</sub>/I<sub>1</sub>) 和荧光谱 (I<sub>f</sub>/I<sub>0</sub>)，它可能是你真的正儿八经不知道这个样品是什么，需要你去拟合。比如一个 Fe 负载在 CeO<sub>2</sub> 载体上的催化剂；也可能是你会拿来做线性拟合之类已知样品，比如你要拟合含铁样品 XANES，你会测得 Fe<sub>2</sub>O<sub>3</sub>，FeO，Fe<sub>3</sub>O<sub>4</sub> 云云，在这篇文展里面也归属于未知样品。或者可以理解为是放在 I<sub>0</sub> 之后，I<sub>1</sub> (or I<sub>t</sub>) 之前的样品均在该文算作未知样品。以及标准样品（reference spectra）是指用来校正的样品，通常是利用未知样品之后的光 (I<sub>1</sub> or I<sub>t</sub>)再打过一个标准样品，得到一张透射谱 ln(I<sub>1</sub>/I<sub>2</sub>)。这里说它标准，是因为我知道其准确的 E<sub>0</sub> 数值。</strong></p>
<br/>
<hr>
<h2 id="做-calibration-的原因">做 Calibration 的原因</h2>
<p>这完全是出于实验硬件的原因，简单来说负责调整入射能量值的 monochromator 是有一点误差，会导致显示的数值不是正确的能量数值。比如测量铁片的 K-edge，扫出来它的 E<sub>0</sub> （也就是一阶微分 XANES 中的第一个峰）是 7112.58 eV ，但是上网一查 Fe foil 的 E<sub>0</sub> 是 7,112.00 eV。这就是我们需要去校正铁片样品数据的时候了。由于只跟能量值相关，相当于是 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>μ</mi></mrow><annotation encoding="application/x-tex">\mu</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">μ</span></span></span></span>(E) 整个平移零点几个 eV 值，就把整张图数平移回去就好。</p>
<h2 id="如何知道误差值">如何知道误差值</h2>
<p>那么知道 Calibration 的根本原因后，下一个问题是如何知道能量值跟真实距离相差了多少？</p>
<p><strong>由于每次测量硬件都会有所区别，不能用不同批次采集得到的数据来相互校正</strong>。像是利用网上的数据或是去年采的数据来校正这个月的数据，这都是大忌。正确的做法是：每次扫未知样品时候，都会在未知样品之后放一个标准样品，利用穿过样品的透射光，在扫描未知样品 XAFS 谱图时也可以同时获得一张标准样品的谱图。因为未知和标准样品使用的均是来源于同一入射光源，两个样品的能量值与真实能量值的误差是可以可以认作一样的（标准样品误差了多少，未知样品误差值也是这个值）。</p>
<p>既然如此，我们就需要标准样品来确定误差值。常见的选择就是对应元素单质，比如我测 Fe<sub>2</sub>O<sub>3</sub>，那么就使用 Fe foil。标准样品的选择绝不仅仅限于相同元素单质，因为有不少元素单质不容易获得或者是其他原因，所以选择元素对应的化合物非常常见。比如我也可以在测 Fe<sub>2</sub>O<sub>3</sub> 时，我也可以用 Fe<sub>3</sub>O<sub>4</sub> 来作为标准样品进行校正，as long as 我知道 Fe<sub>3</sub>O<sub>4</sub> 的 E<sub>0</sub> 是多少（可以从文献或者是其他地方知道）。我甚至可以用 monochromator 上面的 glitch 来校正（因为 glitch 的出现是由于缺陷导致的，这个值是不受实验条件影响）。总的来说这个选择很灵活。</p>
<p>一个比较特殊的例子：硫的标准样品是一个难点，因为硫单质存在多项的情况，能量值 (E<sub>0</sub>) 很模糊。在一次讨论中，Ritimukta Sarangi (beamline scientist at SSRL) 是<a href="https://www.mail-archive.com/ifeffit@millenia.cars.aps.anl.gov/msg06924.html">推荐使用硫代硫酸钠</a> (Sodium Thiosulfate)：</p>
<blockquote>
<p>In my experience, it is best to stay away from sulfate which has a hugely intense peak subject to self absorption. At SSRL, we advice users to choose Sodium Thiosulfate with the low lying and sharp S-S sigma star peak at 2472.02 eV and Tetraphenyl phosphonium bromide at 2146.96 eV for Phosphorus (see Scott's paper at: J. Synchrotron Rad. <a href="http://journals.iucr.org/s">http://journals.iucr.org/s</a> (2018). <em>25</em> <a href="http://journals.iucr.org/s/contents/backissues.html">http://journals.iucr.org/s/contents/backissues.html</a>, 529-536)</p>
</blockquote>
<h2 id="使用标准样品校正-reference-spectra-的必要性">使用标准样品校正 (reference spectra) 的必要性</h2>
<p>有人问过：我可以不校正嘛？我的答案是：必须校正。在计划实验一开始就会注意标准样品的选择，硬件上面的误差是常有翻车出现，哪怕是现在大部分同步辐射光源的质量已经相当不错的情况下，同时采得标准样品的谱图是一种双层保险。在做完实验后处理数据才发现能量误差太大但也没有取得标准谱图，那个时候数据已经失去了可靠性，于事无补。所以一定要在做实验的时候用上标准样品。</p>
<p>使用标准样品校正的另一个动机是帮助我在比较从不同时间段的实验中取得的数据。因为每次实验的能量偏移数值是有区别的，如果要比较未知样品的谱图，先确保各自标准样品已经校正好。甚至是要确保标准样品是完整的，毕竟见过不少标准样品变质导致能量改变，做了几年之后才发现导致所有数据没法比较的事故。</p>
<br/>
<hr>
<h2 id="分情况举例">分情况举例</h2>
<h3 id="1-同一个样品多次连续扫描">1. 同一个样品多次连续扫描</h3>
<p>加载原始数据的时候把未知样品对应的标准样品一起加载进去。（参考 <a href="https://www.bilibili.com/video/BV1yz411e7gu?p=3">Athena 新手教程</a>）</p>
<p>通常是先校正一个标准样品的谱图（Calibration），然后把剩下的标准样品谱图跟已经校正后的对齐（Alignment）。</p>
<h3 id="2-对比-a-样品和-b-样品-常见于展示-xanes">2. 对比 A 样品和 B 样品 （常见于展示 XANES）</h3>
<p>把情况 1 的操作对各自 A 和 B 样品做好后，merge 得到各自的图像。</p>
<p>把 A 和 B 样品以及对应的标准样品加载在一起，先比较标准样品（A 和 B 都用的同一个标准样品）。确认标准样品的谱图 (reference spectra) 是一样的，包括形状还有能量值。这是为了确保标准样品的consistency。有时候会发现标准样品是有变化，如果看到了标准样品变质，必须立刻换掉。（参考<a href="https://www.bilibili.com/video/BV1364y1F7tw">能量校正 Calibration</a>）</p>
<h3 id="3-软线低能样品比如氧硫磷一类">3. 软线低能样品，比如氧硫磷一类</h3>
<p>因为能量极低的时候光线无法穿过样品，所以标准样品的谱图无从谈起。能做的是单独先测标准样品，然后再测未知样品。处理数据的时候，只能分开处理。（参考<a href="https://www.bilibili.com/video/BV1364y1F7tw">能量校正 Calibration</a>）</p>
<p><strong>先校正标准样品，知道误差值有多大。再把同样的差值用到未知样品上，手动校正。</strong></p>
<p>这种做法只限于低能软线，比如氧硫磷这样的（&lt; 3000 eV)。过渡元素的测量仍然遵循情况 1 和 2。只可能在自己没有同步采得标准样品不得已情况下，可以参考这样的操作。（仍然不建议，风险太大，有 manipulate data 的嫌疑）</p>
<br/>
<br/>
<br/>
<br/>
<pre><code>感谢你的阅读。
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[肝 XAFS 实验的小细节 | Podcast Ep. 3]]></title>
        <id>https://twocircles24.github.io/post/podcast-ep3/</id>
        <link href="https://twocircles24.github.io/post/podcast-ep3/">
        </link>
        <updated>2020-08-30T13:46:12.000Z</updated>
        <summary type="html"><![CDATA[<p>(8 min 27 s reading) 爱惜身体，爆肝做实验不可取。</p>
]]></summary>
        <content type="html"><![CDATA[<p>(8 min 27 s reading) 爱惜身体，爆肝做实验不可取。</p>
<!-- more -->
<br/>
<br/>
<p><strong>阅读提示1：该文是<a href="https://www.bilibili.com/audio/au1818517">B站音频</a>的文字版本，内容会有少量出入。</strong></p>
<iframe src="https://anchor.fm/twocircles24/embed/episodes/Vol-4-eitcrb" height="102px" width="400px" frameborder="0" scrolling="no"></iframe>
<br/>
<br/>
<hr>
<br/>
<br/>
<h2 id="保持通讯畅通">保持通讯畅通</h2>
<p>    出门在外，<strong>安全第一</strong>。保持通讯畅通能够让同行人随时掌握情况，一旦有任何意外情况可以第一时间发现。另一方面，在需要同事远程帮忙的时候可以及时解决。同步辐射实验室对手机信号的屏蔽比较厉害，建议使用网络通讯软件，比如微信、WhatsApp 等等。在醒目的地方留下你的手机联系方式还有暂住的酒店地址。</p>
<br/>
<br/>
<h2 id="认真看待睡眠">认真看待睡眠</h2>
<p>    同步辐射相关实验常常是 24 小时营业，作息跟在自家学校的很不一样。熬夜的危害包含但不限于身体健康还有心理压力，更要命的是，缺乏休息会让人反应力降低。即使努力打起精神实验也会越做越差，最后心态崩溃。</p>
<p>    在提刀熬夜之前，要先问问自己是不是那种“可以肝”的人？不得不承认有一部分人是无法熬夜的，如果被强迫，效果只会适得其反。当确认自己无法完成任务的时候，就平静地放弃吧。这类实验更多的是靠自我驱使完成的。<strong>不要害怕放弃，身体才是革命的本钱</strong>，离开了这门技术依然可以活得很精彩。</p>
<p>    一旦确定可以“肝”，我们也要尽可能控制住熬夜带来的危害。最重要的是要判断“什么时候不能再继续熬夜”了，这种判断就像是“喝醉的人说自己没喝醉，没喝醉的人已经说喝醉了”。在做实验的过程中，我们就要做那个“没喝醉的人”，比如发现自己装样品老装不进去、软件操作开始出低级错误、头晕等等。<strong>逞强是摧毁实验的一大因素</strong>，不要把自己压迫到极限，后续的身体伤害实在太大。</p>
<p>    睡觉也是可以是调整心态的一种方式。做实验上头是经常的事情，我自己遭遇大半夜 beam 直接崩掉，还有什么老鼠跑进了 spear ring 里面。没经验的时候老想着是不是再等十分钟光就能回来继续做实验了，结果快等到快天亮的时候才修好。这种时间拿去睡觉不好吗？偶尔还有玄学事件发生，大晚上仪器崩掉了第二天醒来就自己恢复了。人得到了休息之后再静下心来思考解决对策，比困得睁不开眼睛脑子一团浆糊要好得多。</p>
<p>    如果你跟同事一起做实验，恭喜你可以跟他们轮班了。如果是晚班，白天就不要瞎溜达了，好好休息。如果你一个人 solo 实验，对自己睡眠的控制需要更加小心。根据实验天数来考虑睡眠时间，牺牲部分实验时间是注定的，不要觉得可惜就不睡觉伤害自己。</p>
<br/>
<br/>
<h2 id="吃好喝好">吃好喝好</h2>
<p>    饮食方面几乎可以照抄健身食谱了：<strong>多蛋白、摄入低 GI 碳水，多喝水；少油腻，少糖，少精致碳水</strong>。这是因为蛋白质和低 GI 碳水的食物释放能量比较持久且不会段时间大幅度提高血糖水平，可以持续平衡功能。另一方面熬夜对肌肉的消耗速度极快，补充蛋白质也能小小地弥补下。</p>
<p>    为了能长时间保持清醒，需要保持一点点饥饿感。好多人想着能出去吃的可以报销，就大鱼大肉操办起来了。但是一吃什么牛油火锅 + 米饭，直接分分钟就要迷糊过去了。我自己出差的时候，通常是买蛋白零食，像是蛋白棒还有蛋白饮料，喝一瓶基本上可以抵过大半天。点外卖就会选择味道比较清淡酸甜，有优质肉类的，最好是冷食。之所以说是冷食，是因为实验的事情一来就得先去解决问题，并不能保证饭能到了就能吃。也可能吃到一半去做实验，这个时候冷食就不存在还要加热的问题了。<a href="https://en.wikipedia.org/wiki/Poke_(Hawaiian_dish)">Poke Bowl</a> 就是我的最爱了，把里面的sushi rice 换成 brown rice 吃一碗可以抵一晚上工作。</p>
<br/>
<br/>
<h2 id="记录实验和拷贝数据">记录实验和拷贝数据</h2>
<p>    不仅仅是使用实验记录本，灵活运用拍照和音频可以留存更多的实验细节。记录下时间戳 (time stamp) 能在你忘记记录实验信息后帮你回忆当时的情景。尤其是 in-situ 实验，有的可以 1 分钟内出来好几张图，根本来不及一一记录。利用手机把这些细节随时随地记录下来，等稍微闲点再把文字记录补上。</p>
<p>    备份数据建议 U 盘一份，电脑本地一份，网盘一份。频率可以考虑一轮实验之后转移，或者是一天实验结束后。这样可以动态地保护数据，不要等到最后一天再来保存数据。丢失了数据空手回家真的是惨又麻烦的一件事。</p>
<br/>
<br/>
<h2 id="粗略的处理数据">粗略的处理数据</h2>
<p>    在 Athena 用熟了看一张图不会超过 2 分钟。但是这两分钟能告诉你这图质量行不行，够不够用在 Artemis 里面。当发现数据有问题。可以立刻再重新规划做样品。如果只是为了完成任务而完成，那么回去了发现数据不能用或者是有问题的话，下一次实验又遥遥无期，那不得哭死。</p>
<p>     不要对自己的数据自信过头的，翻车的不在少数。</p>
<br/>
<br/>
<h2 id="记录实验操作步骤">记录实验操作步骤</h2>
<p>    因为涉及到复杂操作，实验做起来时间可能就几天，但是下次做可能是几个月后了。每一步是怎么装样品的，怎么调试参数，怎么跟工作人员打交道的都要记录下来。中间偶尔会有 trouble shooting 操作，今天遇到的可能下次遇到。麻烦人家一次就不要麻烦第二次了。<strong>不要相信自己的记忆力</strong>。</p>
<p>    把实验细节记录下来，下次再来做类似的实验上手会更快。XAS 实验就是吃经验这碗饭，你对细节的积累就是从菜鸟转变成大佬的关键因素。我自己甚至是会把 sample holder 的图纸都画好备一份以防需要换材料重做。</p>
<br/>
<br/>
<h2 id="多问问题问思考过的问题">多问问题，问思考过的问题</h2>
<p>    学到新知识都是靠有问题问出来的。有时候非母语的学生有点害怕或者是害羞。但是不问就没机会学，没机会学到了大半夜实验仪器出现问题不会修，就只有浪费机时了。<strong>一个有经验的 XAS 选手 = 贼会修 beam or 知道找谁来修</strong>。在实验室里面的工作人员大多人美心善，我问一些很弱智的问题他们都能讲的深入浅出，从物理讲到机械，从自动化到算法，实在是大开眼界。</p>
<p>    问思考过的问题。“助人者自助”，寻求帮助是基于尊重，真诚和同理。先花时间尝试解决再去问其他人，这是有诚意的。不动脑子是不会有人来帮助的。</p>
<br/>
<br/>
<h2 id="相互帮助">相互帮助</h2>
<p>    在实验室蹲过的多多少少都是有经验，也比较清楚到底有多少问题。如果你真的遇到麻烦，尤其是在深夜里面，很可能他们是你唯一可以帮忙的人了。若是其他人遇到了问题也不要甩脸色只顾自己的，毕竟大半夜谁都不愿意看到实验出现问题，你在帮助他人的同时也可以了解其他人的课题。我见过靠这样的方式认识人找到合作者一起发文章，甚至是找到了工作。你也可以搭把手给staff，这样的话就可以学习实际操作经验。</p>
<br/>
<br/>
<h2 id="不要看xas的理论知识">不要看XAS的理论知识</h2>
<p>    没用的，不要自欺欺人，越看越容易睡觉。在这么紧张的实验里，老老实实是把数据拿到才是王道。理论知识离实际操作太远，在正确的时间做正确的事情。看看 Jojo 不香吗？</p>
<br/>
<br/>
<h2 id="深呼吸暂停一下">深呼吸，暂停一下</h2>
<p>    实验再紧张，也要给自己一点缓冲空间。尤其是在做操作难度大的实验时，先问问自己心跳有没有过快、手抖不抖、脑子够清醒不。如果答案是“不”，出去吹吹风再回来问问自己。还不行就回去睡觉。</p>
<p>    有时候心里面着急想做好实验，结果事与愿违，陷入恶性循环。学会如何把自己从恶性循环的泥潭中拽出来，是一名成熟的 senior graduate student 的标志之一。缓冲也许只要五分钟，但搞砸实验可能两个小时都挽回不了，实在是不值 。</p>
<br/>
<br/>
<br/>
<br/>
<h2 id="更多阅读">更多阅读</h2>
<ul>
<li>丁香医生：<a href="https://dxy.com/column/331">警惕熬夜对身体的危害</a></li>
<li>丁香医生：<a href="https://mp.weixin.qq.com/s/EpuDgNVa-kDdo5Sp73coWw">经常熬夜记性会变差，真的</a></li>
</ul>
<br/>
<br/>
<pre><code>感谢你的阅读。</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[我用到的付费订阅制软件 | App Subscriptions ]]></title>
        <id>https://twocircles24.github.io/post/app-sharing/</id>
        <link href="https://twocircles24.github.io/post/app-sharing/">
        </link>
        <updated>2020-08-22T16:56:20.000Z</updated>
        <summary type="html"><![CDATA[<p>划水闲聊的博客出现了！</p>
]]></summary>
        <content type="html"><![CDATA[<p>划水闲聊的博客出现了！</p>
<!-- more -->
<p>这几年 Apple Store 里 App 采取订阅制收费的越来越多，买断制选项越来越少。一方面来说，这对开发者有更长可持续的鼓励和更充足的资金用于发展；另一方面而言，也助长了不少“为赋订阅强说好”的不必要浪费。回头看日常生活，泛订阅类服务已经不少，像是音乐会员和视频会员。相比之下，APP 的订阅开销其实不算多。</p>
<p>我个人态度是选择性的支持订阅制服务，那今天就来分享下我会选择长期订阅的服务。</p>
<p><strong>阅读提示：部分订阅服务有地区限制。本人消费也从来不明智。</strong></p>
<hr>
<h2 id="apple-news"><a href="https://www.apple.com/apple-news/">Apple News+</a></h2>
<ul>
<li>美区：$ 9.99/month</li>
<li>评价：9/10</li>
<li>适用：不着急看突发新闻，喜欢看不同杂志又不想多花钱的人。</li>
</ul>
<p>Apple New 是我获取新闻的主要来源之一。最大的优势是能在<strong>保护隐私</strong>的前提下能看多个平台新闻和杂志。我个人很吃 Tim Cook 近些年大打<strong>隐私</strong>一套说辞，尤其是对在 Google 还有国内 BAT <strong>不计一切代价用隐私换取便</strong>表示很失望。</p>
<figure data-type="image" tabindex="1"><img src="https://i.loli.net/2020/08/23/zDBQnF72ACEaMNU.jpg" alt="photo_2020-08-22_23-33-05.jpg" width="360" height="640" loading="lazy"></figure>
<pre><code>某一天 Apple News 首页，使用了 The Mercury News 报道的加州山火新闻。（人家看文章质量不看是哪家新闻机构出名）
</code></pre>
<br/>
<p>其次 Apple New  的首页新闻都是被新闻专业人士筛选过展现的（我从一个从事新闻业工作的朋友听到的）。虽然突发新闻抢不了先机（也没必要），但是新闻的专业性还有阅读性是可以保证的。尤其是我很喜欢 Apple New+ 推送给我的老牌杂志长文，比如 ProPublica 和 The Atlantic。每篇花上大约十到二十分钟的阅读很有收获。相比之下，Google News 更多的是为了吸引流量，所以出新闻的速度很快但是很没有质量，有点“UC 标题党”调调，而且随着我在 Google News 上看到的新闻越来越“右”，我的 YouTube 广告全是 Trump 的竞选广告，这就让我很不爽了。其实“左派媒体”的报道我都是在 Apple News 上面看的。（摊手）</p>
<p>上述的两个优势其实只需要一个苹果设备就可以拥有，而促使我订阅 Apple News+ 的原因是可以一站式看不少报刊杂志。我可以看的包含但不限于：The Wall Street Journal (Newspaper), The New Yorker (Magzines), Top Gear (Car), Bloomberg Business (Finance)...</p>
<figure data-type="image" tabindex="2"><img src="https://i.loli.net/2020/08/23/dunbQMgzsRv8ceV.jpg" alt="photo_2020-08-22_23-44-03.jpg" width="489" height="640" loading="lazy"></figure>
<pre><code>部分 featured magzines in Apple News+
</code></pre>
 <br/>
<p>嗯？我会每一个都看完吗？当然不是，都是每次出来了捡自己喜欢的看呀。如果没有 Apple News+，我需要去每个报纸杂志平台订阅，价格每个月从几美元到十几美元不等。而 Apple News+ 只需要 $9.99，香死我了。我自己很少会固定看某一个杂志，但美国杂志收费又不便宜。Apple News+ 正好戳中我的痛点让我可以在不同杂志里面选择我想看的。</p>
<p>最近 Apple New 上线了 Audio 版块，基本上就是把新闻媒体做的 Podcast 搬到了 Apple News 这里。Apple 自家也推出了播客，音频长度基本上可以覆盖我从家到学校的通勤时间，早上刷牙洗脸做早饭开车随便哪个点听一听相当不错，缺点就是特别左。</p>
<figure data-type="image" tabindex="3"><img src="https://i.loli.net/2020/08/23/6NUj3nTa8KOHecS.jpg" alt="photo_2020-08-22_23-33-14.jpg" width="360" height="640" loading="lazy"></figure>
<pre><code>某天听到的 Audio Story
</code></pre>
<br/>
<p>要说缺点，那就是搜索逻辑了。这方面 Google 无疑是老大了，基本上想要的新闻输入关键词就有了，但是 Apple 似乎是按照搜索“话题”而非“关键词”来搜索。比如我想看关于重庆洪灾的报道，在 Apple News 只会有跟 Chongqing 相关的话题或媒体，完全不是我想要的。而 Google News 随便搜搜就有了。除非我关注的是话题度较高的，像是美国大选或 COVID-19，才有可能在 Apple News 里面找到对口的报道。</p>
<br/>
<hr>
<br/>
<h2 id="inoreader"><a href="https://www.inoreader.com/welcome">Inoreader</a></h2>
<ul>
<li>美区价格：  $ 49.99/year</li>
<li>评分：7/10</li>
<li>适用：一站式收集最新期刊和新闻的用户</li>
</ul>
<p>Inoreader 是一个 RSS 平台，在<a href="https://sspai.com/post/58041">少数派上</a>提到过多次了。RSS 最大的好处就是把信息通过一个链接集合在了一个平台上，让我不必点开每个网站阅读全文再来判断，是真正的学术效率利器。对我来说最大用处就是订阅各个学术期刊的更新了。每天早上泡好咖啡之后就一边浏览各大期刊最新发表的文章一边喝咖啡摸鱼，不到 15 分钟就能掌握 ASAP。发现了有意思的，点击链接就能去源网站看全文。虽然 RSS 在 Google Reader 关闭后一路唱衰，但就各大学术期刊的 RSS 活跃度我根本离不开 RSS 客户端。</p>
<p>不仅仅是学术期刊，Inoreader 的一大优势是其筛选机制让我更有效率地阅读信息。像是 COVID-19 期间漫天飞舞的各色新闻，Inoreader 就只会准确推送我想要的某一类新闻。同时也可以作为对 Apple News+ 的补充，Nature 和 Science 新闻推送就是通过 Inoreader 推送到我这里的。Inoreader 这个平台可以允许我<strong>一站式</strong>开启<s>美好</s>学术的一天。</p>
<figure data-type="image" tabindex="4"><img src="https://i.loli.net/2020/08/23/nhmxQMCNidWF3J2.png" alt="批注 2020-08-23 000511.png" loading="lazy"></figure>
<pre><code>利用 Inoreader 收期刊的推送，只要五分钟就能知道今天 JACS 推送的有没有我想要的。
</code></pre>
<br/>
<p>缺点就是<a href="https://www.inoreader.com/upgrade/feature/from_tree">价格太贵了</a>，我明年应该会降级成 $19.99/yr 的选项。也有免费版本，但有广告，限制比较多。如果要选择它的竞争对手，那就是 <a href="https://feedly.com/i/welcome">Feedly</a>，价格也不便宜~</p>
<br/>
<hr>
<br/>
<h2 id="bear"><a href="https://bear.app/">Bear</a> （<a href="https://bear.app/cn/">熊掌记</a>）</h2>
<ul>
<li>美区价格：$14.99/year</li>
<li>评分：9/10</li>
<li>适用：安静输出文字的苹果颜狗用户</li>
</ul>
<p>Bear 在中国又叫熊掌记，大概三四年前（？）我就开始使用了，当时纯粹是被它的颜值迷昏了眼，完全不顾 Windows 的不适配也没想过自己会不会用 iPad 来写作这个问题，铁了心的要入手。一开始使用频率极低，也就是拿来写写小总结或是微博投稿。订阅价格也没很贵，是“食之无味弃之可惜”的状态，全靠颜值支撑我续费。</p>
<figure data-type="image" tabindex="5"><img src="https://i.loli.net/2020/08/23/6MFq4XsBGUaZ23d.png" alt="批注 2020-08-23 001349.png" loading="lazy"></figure>
<pre><code>熊掌记是我见过 IOS 系统里最漂亮的软件之一了。（官网截图）
</code></pre>
<br/>
<p>自从开始做教程之后，使用频率暴涨。因为在某个点会冒出来一个点子，立刻用手机端记录下来；完了之后到 iPad Pro 上扩充。待到大部分文字内容齐活儿了，就转移到台式机上填充图片之类的再发布。我教程的初稿都是在 Bear 上完成的，得益于它 iCloud 同步还有支持 Markdown 写作，把稿子用 Markdown 格式导出到电脑端修改几乎不费力。而且我可以一边看电视一边用 iPad Pro 写教程两不误啊哈哈～这种随想随写又漂亮的平台能不爱？</p>
<p>硬说缺点，不支持 Windows 平台？对我而言影响不大，毕竟真要写正式的，上 Word 和 LaTex 就完事了。像是做教程这样的非正式轻量多文字工作，放到另外一个平台也是无形之中把工作和私人的写作分开了。（就是找借口花钱咳咳咳）</p>
<br/>
<hr>
<br/>
<h2 id="vsco"><a href="https://vsco.co/">VSCO</a></h2>
<ul>
<li>美区价格：$19.99/year</li>
<li>评分：6/10</li>
<li>适用：通过轻度修图适度抢占朋友圈摄影大赛的种子选手</li>
</ul>
<p>绝对算不上最好的修图软件，只是很早之前就开始使用 VSCO 已经完全顺手不想用其他的了 （那个时候还是按滤镜包来买的）。UI 界面做的不错，滤镜数量奇多，参数调整也算齐全。因为我不是摄影专业人士，但对发在社交平台里面的图还是有点想法，所以需要一个简单易用的修图软件，而 VSCO 在很早的时间遇到了。即使是有其他修图软件出现，功能上也是大同小异不会再有多与众不同有点哭笑不得的是现有“VSCO Girl”的梗出现，我自认为不算那样的人就是了。</p>
<figure data-type="image" tabindex="6"><img src="https://i.loli.net/2020/08/23/NfTRC5ZJoGL69ns.jpg" alt="photo_2020-08-23_00-22-53.jpg" loading="lazy"></figure>
<pre><code>索尼6000 + 狗头 + 30 秒曝光 + WIFI 传图 + VSCO 修图就能顶着光污染在学校里面拥有银河。（左原图，右修图）
</code></pre>
<br/>
<p>要说缺点，我不太喜欢一个修图软件做社交功能。虽然现什么 APP 都在做社交提升用户粘性，但是我更喜欢一个安静做自己份内事的软件。</p>
<br/>
<hr>
<br/>
<h2 id="grammarly"><a href="https://app.grammarly.com/">Grammarly</a></h2>
<ul>
<li>淘宝价格：¥298/年</li>
<li>评分：5/10</li>
<li>适用：期待有个帮你英文查错小助手的学生党</li>
</ul>
<p>用 Grammarly 的免费版大约有几年了，我认为它优势是在对不同的文字场景支持还算不错，像是 Word 和网页插件。其次对于 typo 检错效率挺高，用过一段时间后，写错的情况减少了很多。之所以买了收费版是正好我男朋友也有需要，再加上有点好奇高级版本里面关于对英文遣词造句的专业建议。使用一段时间下来，我认为一大亮点是它允许设置不同的场景，比如 formal or casusal。根据使用者的场景来调整用词和语法的建议。对于部分学生来说，收费版本还可以提供论文查重功能，我自己没用过所以不好发表评价。</p>
<figure data-type="image" tabindex="7"><img src="https://i.loli.net/2020/08/23/KMq39jdSkveQUBz.png" alt="批注 2020-08-23 003447.png" loading="lazy"></figure>
<pre><code>一直把被动时态的语法检查给关掉，太不喜欢了。
</code></pre>
<p>不过这个软件指望能够帮自己投专业期刊的文章润色是不现实的。专业词汇的不识别都只是小问题，Grammarly 极其”讨厌“被动时态是让我无法理解的。可期刊文章里面被动时态是最常用的，整篇下来 Grammarly 能给你从头高亮到尾，即使是能关闭这个提醒，感觉其他的建议都很皮毛。所以评分不高，也许明年回归免费版了？拿来查错还是不错的，也支持加入个人词库。</p>
<br/>
<hr>
<br/>
<h2 id="滴答清单"><a href="https://dida365.com/">滴答清单</a></h2>
<ul>
<li>国区价格：¥139/年</li>
<li>评分：7/10</li>
<li>适用：全平台轻量文字工作的效率管理软件</li>
</ul>
<p>现在效率软件多如牛毛，我也使用过不少。一开始用过 Todolist 一类免费版本，也用过 Things 3 买断制 APP，去年开始换到了奇妙清单。最大动机还是对全平台的要求。Things 3 的界面和使用逻辑我是最喜欢的，但是不提供 Windows 版本。滴答清单总体而言做的非常优秀，兼顾最基础的 todo 功能还有轻量写作需求。高级版本丰富了提醒功能和日历小部件。最让我惊喜的是，滴答清单虽然拥有众多功能，但是依然可以有最简单的方法随时随地记下我需要做的事情，再到之后进行填充。如果一个小团队里面一起使用滴答清单，也可以成为一个小 “Slack”。</p>
<figure data-type="image" tabindex="8"><img src="https://i.loli.net/2020/08/23/R9OfxE1hBUdTQvM.png" alt="批注 2020-08-23 004004.png" loading="lazy"></figure>
<pre><code>用滴答清单帮助我准备出差需要的工具或是零件。
</code></pre>
<br/>
<p>就缺点而言，我个人发现它智能识别时间一类的功能我不能太适应。比如我在订单里面写入“明天逛街”，它可以识别出来这项任务是应当在明天，但是在任务栏里面还是“明天逛街”，这就有种感觉是&quot;后天要去逛街&quot;的即视感，这一点让我觉得很不自然。既然标签都可以允许放到文本里面，为什么时间关键词不可以允许自动删除掉？</p>
<br/>
<hr>
<br/>
<p>今天的安利就到此为止啦，以后还会瞎写些奇怪安利的~</p>
<br/>
<br/>
<br/>
<br/>
<pre><code>感谢你的阅读
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[你问我不一定答 | 第二期]]></title>
        <id>https://twocircles24.github.io/post/youask-ianswer-2/</id>
        <link href="https://twocircles24.github.io/post/youask-ianswer-2/">
        </link>
        <updated>2020-08-18T09:15:10.000Z</updated>
        <summary type="html"><![CDATA[<p>(5 min 22 s reading)</p>
]]></summary>
        <content type="html"><![CDATA[<p>(5 min 22 s reading)</p>
<!-- more -->
<br/>
<p><strong>阅读提示1：回答仅代表我一个人的看法，不代表正确解决问题的办法。我有不知道答案的问题，也有不懂回答错误的问题。如果我有讲错地方，请告诉我还有其他人。</strong></p>
<p><strong>阅读提示2：问题来源于 B 站 or 微博，问题有可能被重新整理，先后顺序不代表任何重要程度，如果你的提问被收入但觉得不合适，请联系我。</strong></p>
<hr>
<blockquote>
<p>Q11. 可不可以用简单的话说明一下，<em>Athena</em>和<em>Artemis</em>分别是做什么呢，<em>Athena</em>最后把我们数据变成什么样了，然后<em>Artemis</em>拟合又是最后变成什么样了？这个处理和拟合是个什么意思呢?</p>
</blockquote>
<p><strong>A11:</strong></p>
<ol>
<li><em>Athena</em>是把raw data处理成k空间和r空间。<em>Artemis</em>是把k空间的数据拿去拟合。所以前者处理数据，后者拟合EXAFS。处理的意思就是，让你看到k空间和R空间的数据。拟合的意思就是知道什么样的距离有多少个什么样的原子。</li>
</ol>
<br/>
<br/>
<blockquote>
<p>Q12. Artemis拟合一个数据大概需要多久才能完成呢？</p>
</blockquote>
<p><strong>A12:</strong></p>
<ol>
<li>取决于你的需求还有你老板的要求。我自己手头有数据几年还没整完的事多了去了；</li>
<li>数据拟合是一件很痛苦的事情，我一般都是吃好喝好睡好，<s>再焚香沐浴之后</s>开始坐下来处理数据；</li>
<li>参考另外一篇文章<a href="https://twocircles24.com/post/how-long-for-xafs/">《学 XAFS 要多久》</a>。</li>
</ol>
<br/>
<br/>
<blockquote>
<p>Q13. 张三拿到一个数据从一开始到完成到底需要什么样的步骤，是所有的数据都要<em>Athena</em>和<em>Artemis</em>双拳出击吗？还是说不同情况不同处理？</p>
</blockquote>
<p><strong>A13:</strong></p>
<ol>
<li>不同情况不同处理，始终取决于张三的需求。如果说你只想要 XANES 的对比或者是<a href="https://bruceravel.github.io/demeter/documents/Athena/analysis/lcf.html">LCF</a> 那么就没有必要用到 Artemis（only for EXAFS 拟合）。如果说你要 EXAFS 的原子距离和配位数，张三要问拿到的数据是 raw data 还是别人已经给你处理好的 .prj 文件呢？前者需要 <em>Athena</em> 处理，后者直接扔 <em>Artemis</em> （但最好在 <em>Athena</em> 中检查好参数）。</li>
</ol>
<br/>
<br/>
<blockquote>
<p>Q14-1: 为什么张三的文献对（一个纯的化合物）同一中心原子拟合使用了不同的E<sub>0</sub></p>
</blockquote>
<p><strong>A14-1:</strong></p>
<ol>
<li>因为他们菜啊</li>
<li>如果说你测的样品里面已经知道了是一个混合物（像50%Mn<sub>2</sub>O<sub>3</sub>50%Mn），你给两个E<sub>0</sub>不过分；</li>
<li>如果是一个纯的化合物，大家都是从同一个原子跑出来，为什么会有两个E0？</li>
</ol>
<blockquote>
<p>Q14-2: 复合物，类似于核壳结构的，就可能有多个E<sub>0</sub>吧？</p>
</blockquote>
<p><strong>A14-2:</strong></p>
<ol>
<li>我觉得看情况。优先还是先不要用那么多 E<sub>0</sub>，因为在拟合的过程中，可能要把变量多放在距离或者 DW factor (aka. <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>σ</mi></mrow><annotation encoding="application/x-tex">\sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">σ</span></span></span></span><sup>2</sup>) 上面。</li>
</ol>
<br/>
<br/>
<blockquote>
<p>Q15: 要想下载旧版本或是 32 位 Demeter 软件包怎么弄？</p>
</blockquote>
<p><strong>A15:</strong></p>
<ol>
<li><a href="https://bruceravel.github.io/demeter/#old">Demeter 官网 Old Releases</a> 就可以找到上个版本 (0.9.25) 的 32 位版本。.</li>
</ol>
<br/>
<br/>
<blockquote>
<p>Q16: 拟合同种金属四配位六配位混合物的第一壳层，变量数很紧张，他们的σ2之间可以建立关联吗？能够假设他们相等或者其他关联吗？还有变量数一定要比independent points小2吗？</p>
</blockquote>
<p><strong>A16:</strong></p>
<ol>
<li>如果两种配位形式各自的距离 R 相差不大（比如差值小于 0.15 Å），建议用一条 path 来代表其平均值。如果不能够代替，再考虑用两条 paths 以及对其参数控制；</li>
<li>关于 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>σ</mi></mrow><annotation encoding="application/x-tex">\sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">σ</span></span></span></span><sup>2</sup>：可以，这个时候采取对两条 path 的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>σ</mi></mrow><annotation encoding="application/x-tex">\sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">σ</span></span></span></span><sup>2</sup> 的值控制为一样 (define  <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>σ</mi></mrow><annotation encoding="application/x-tex">\sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">σ</span></span></span></span><sub>1</sub><sup>2</sup> = <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>σ</mi></mrow><annotation encoding="application/x-tex">\sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">σ</span></span></span></span><sub>2</sub><sup>2</sup>)；</li>
<li>除了 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>σ</mi></mrow><annotation encoding="application/x-tex">\sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">σ</span></span></span></span><sup>2</sup>，还可以尝试使 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Δ</mi></mrow><annotation encoding="application/x-tex">\Delta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Δ</span></span></span></span>R<sub>1</sub> = <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Δ</mi></mrow><annotation encoding="application/x-tex">\Delta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Δ</span></span></span></span>R<sub>2</sub>。然而随着固定的变量数量增多，拟合的自由度降低，最终的结果可能不尽如人意，但不妨一试；</li>
<li>变量数量 (number of variables) 需要小于 independent poitns 数量的 2/3。</li>
</ol>
<br/>
<br/>
<blockquote>
<p>Q17: 信号质量与样品含量有关系吗？比如负载贵金属的催化剂可能负载量很低，这会影响信号强度及质量吗？</p>
</blockquote>
<p><strong>A17:</strong> 两个问题的答案均是：有，而且关系很大。但是完全可以通过使用不同的实验装置（主要是检测器）来拿到浓度很低的样品数据（到ppm级别）。这个考量比数据处理还要复杂。以后可能讲完软件操作会开始讲实验计划这一块，难度很大。</p>
<br/>
<br/>
<blockquote>
<p>Q18: 担担面提供的网站链接打不开怎么回事？</p>
</blockquote>
<p><strong>A18:</strong></p>
<ol>
<li>网站的服务器垃圾；</li>
<li>需要科学上网。</li>
</ol>
<br/>
<br/>
<blockquote>
<p>Q19: 多个壳层的path，可以从不同晶体文件里获得吗？</p>
</blockquote>
<p><strong>A19:</strong></p>
<ol>
<li>可以。思路以结构类似为准。优先一个晶体能全部拿下，拿不下再换。</li>
</ol>
<br/>
<br/>
<blockquote>
<p>Q20: 有些元素，就像你b站视频演示的那个Fe铁的，这种前人做过很多的是不是能找到标准物质的数据呢？那在哪里可以找到这种标准物质的数据呢？</p>
</blockquote>
<p><strong>A20:</strong></p>
<ol>
<li>前几天 Matt Newwill 和他实习生的工作：<a href="https://xaslib.xrayabsorption.org/elem/">X-ray Absorption Data Library</a></li>
<li>友情提示：只能拿做练习。不可以用作处理自己的数据，包括但不限于 PCA 和 LCF。</li>
</ol>
<br/>
<br/>
<br/>
<br/>
<pre><code>感谢你的阅读。
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Rbkg ]]></title>
        <id>https://twocircles24.github.io/post/rbkg/</id>
        <link href="https://twocircles24.github.io/post/rbkg/">
        </link>
        <updated>2020-08-17T13:55:11.000Z</updated>
        <summary type="html"><![CDATA[<p>(11 min 26 s reading) Rbkg 选起来快，但是选错了就是灾难性的……</p>
]]></summary>
        <content type="html"><![CDATA[<p>(11 min 26 s reading) Rbkg 选起来快，但是选错了就是灾难性的……</p>
<!-- more -->
<p><strong>视频：《Rbkg | XAFS数据处理参数讨论》 <a href="https://www.bilibili.com/video/BV1jK4y1Y71X/">Bilibili</a>, <a href="https://youtu.be/qn695n7TCoo">YouTube</a></strong></p>
<br/>
<br/>
<p><strong>阅读提示1：该文只用于参考和建议，非标准。各个课题遭遇的数据差异巨大，我的建议不一定适合你的数据处理，请谨慎使用。</strong></p>
<p><strong>阅读提示2：回答仅代表我一个人的看法，不代表正确解决问题的办法。我有不知道答案的问题，也有不懂回答错误的问题。如果我有讲错地方，请告诉我还有其他人。</strong></p>
<br/>
<hr>
<br/>
<h2 id="太长不看速读">太长不看速读</h2>
<p>    今天来聊聊关于 <em>Rbkg</em> 的问题， 它的选择只建议三种（按使用频率从高到低排列）：</p>
<blockquote>
<ol>
<li><em>Rbkg</em> = 1.0 Å</li>
<li><em>Rbkg</em> = 在 R 空间中第一个峰距离（也就是对应的R数值）÷ 2</li>
<li>选项 1 和 2 中间的数值</li>
</ol>
<p>如果 R 空间中第一层峰距离比较短 (&lt; 1.8 Å)，倾向选项 <strong>2</strong>，但更有可能选 1 和 2 是一样的。</p>
</blockquote>
<p>    除此之外，<strong>没有其他选择</strong>。</p>
<br/>
<br/>
<figure data-type="image" tabindex="1"><img src="https://i.loli.net/2020/08/18/yieoSfC8ZunxOH4.jpg" alt="InkedMainwindow_l.jpg" loading="lazy"></figure>
<p><strong>Figure 1.</strong> 在 <em>Athena</em> 界面中 <em>Rbkg</em> 的位置。（红线）</p>
<br/>
<br/>
<h2 id="接下来是正文">接下来是正文</h2>
<br/>
<h3 id="设置-rbkg-的初衷">设置 <em>Rbkg</em> 的初衷</h3>
<p>    虽然我在<a href="https://www.bilibili.com/video/BV1yz411e7gu">之前教程里面</a>讲过 <em>Rbkg</em> 里面所处的功能区是负责对原始实验数据进行归一化和扣除背景。理论来说在这一步，只会出现 &quot;<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>μ</mi></mrow><annotation encoding="application/x-tex">\mu</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">μ</span></span></span></span>(E) → XANES&quot;处理，也就是从原始数据到归一化后的数据。这其中不应该出现关于 R 空间里面的相关参数，那么这是为什么呢？</p>
<p>    严格来讲，<em>Rbkg</em> 这个参数是<strong>通过调整 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>μ</mi></mrow><annotation encoding="application/x-tex">\mu</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">μ</span></span></span></span>(E) 的背景函数</strong>而影响最终 R 空间里面峰的形状。之所以取名是为了让使用者对这个参数的感知更加形象，毕竟到最后在 <em>Athena</em> 里面使用，视觉上直观会关联出来“这个 <em>Rbkg</em> 的选项是为了过滤（or 消除）在 R 空间中低于 <em>Rbkg</em> 的峰”的结论。所以也就是为什么在一个调整 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>μ</mi></mrow><annotation encoding="application/x-tex">\mu</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">μ</span></span></span></span>(E) 的功能区里面蹦出来一个“不和谐”的 R 空间相关参数。</p>
<p>    既然要讲 <em>Rbkg</em> 是如何影响背景函数，那就得从背景函数的意义开始说起来了……</p>
<br/>
<br/>
<h3 id="扣除背景是为了得到-exafs-信息">扣除背景是为了得到 EXAFS 信息</h3>
<p>    第一步要先讲明白<strong>扣除背景</strong> (aka. background removal)。同步辐射精细吸收谱 (XAFS) 是通过X射线打到样品上，样品中的中心元素吸收X射线之后吸收后发出光电子到邻近原子再散射回来。通过检测中心元素的吸收谱来获得邻近原子的数量和距离信息（也就是 EXAFS）。</p>
<blockquote>
<p>    举个不太恰当的例子，假设你在一个会议室里站在台上，下面坐了一些观众。这时候你从外面抱回来一筐乒乓球（100 个），接着开始把乒乓球往观众扔过去，扔完为止。结果大致有两种：1. 你扔出去的乒乓球到了某个观众的手上。观众有可能把这个乒乓球仍回到你这里并且你也接住了（60 个 ）；2. 你扔出去的乒乓球没有人接住，就掉到了地上（40 个）。<br>
    我作为旁观者，看不到你手上还剩多少乒乓球。只知道你开始拿进去的一筐乒乓球（100 个）和地上留下来的乒乓球（40 个），问：统计你从观众那里得到的乒乓球有多少。<br>
    正确做法就是：<strong>一开始总共的（100 个）- 地上留下（60 个）= 你手头上还剩下的乒乓球数量 （40 个）</strong></p>
</blockquote>
<p>    EXAFS 中扣除背景的原理跟这个类似，因为 EXAFS 解决的问题是<strong>中心原子和邻近原子之间的相互作用，从而得到其数量和距离</strong>。中心原子（你本人）吸收X射线后激发内层电子跃迁到中心原子以外成为光电子（乒乓球），如果光电子到了邻近原子之后（台下的观众）激发再把光电子散射回来后，作为中心原子收到了这部分光电子就包含了 EXAFS 表征所需要的信息。然而在实际测试中，我们测得的是中心原子的<strong>所有信息</strong>，包含了最终回到中心原子的电子以及<strong>没能够回到中心原子的部分</strong>。那么我们只需要前者的话，就要扣除掉后者。</p>
<p>    “扣除没有回到中心原子的电子”办法就是假设这个中心原子周围<strong>没有任何邻近原子</strong>的时候收到X射线发生内层电子跃迁，这样光电子行动时没有任何阻拦，也不存在回到中心原子的考虑，这就是<strong>背景</strong>。但是这样的条件真实情况下发生吗？要知道，一个原子在常压环境下（常压和真空下的电子行动模式是不一样的）周围不存在任何邻近原子是不可能的事情。为了消除消除背景，只可能<strong>通过理论数学公式</strong>来解决。</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>χ</mi><mo>(</mo><mi>E</mi><mo>)</mo><mo>=</mo><mfrac><mrow><mi>μ</mi><mo>(</mo><mi>E</mi><mo>)</mo><mo>−</mo><msub><mi>μ</mi><mn>0</mn></msub><mo>(</mo><mi>E</mi><mo>)</mo></mrow><mrow><msub><mi>μ</mi><mn>0</mn></msub><mo>(</mo><mi>E</mi><mo>)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex"> \chi (E) = \frac{\mu (E) - \mu_{0}(E)}{\mu_{0}(E)}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">χ</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">μ</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<p><strong>Equation 1.</strong> <em><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>μ</mi></mrow><annotation encoding="application/x-tex">\mu</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">μ</span></span></span></span><sub>0</sub>(E)</em> 孤立中心原子的吸收，通过 <em>Spline</em> 函数来计算。</p>
<br/>
<br/>
<h3 id="利用-spline-函数作为背景方程">利用 <em>Spline</em> 函数作为背景方程</h3>
<p>    在 <em>Athena</em> 软件中，作者选用了 <em>Spline</em> 函数来模拟孤立原子发出光电子的谱图。<em>Spline</em> 函数（中文：样条函数）是一个非常流行的非线性拟合方程。根据 <a href="https://zh.wikipedia.org/zh-hans/%E6%A0%B7%E6%9D%A1%E5%87%BD%E6%95%B0">Wikipedia</a> 的一段描述：</p>
<blockquote>
<p>     样条一词来源于工程绘图人员为了<strong>将一些指定点连接成一条光顺曲线所使用的工具</strong>，即富有弹性的细木条或薄钢条。由这样的样条形成的曲线在连接点处具有连续的坡度与曲率。分段低次多项式、在分段处具有一定<strong>光滑性的函数</strong>插值就是模拟以上原理发展起来的，它克服了高次多项式插值可能出现的振荡现象，具有较好的数值稳定性和收敛性，由这种插值过程产生的函数就是多项式样条函数。</p>
</blockquote>
<p>    大白话：<strong><em>Spline</em> 函数可以分段拟合数据（毕竟 XANES 和 EXAFS 机制不一样），并且可以得到一条光滑的曲线</strong>。与多项式拟合比起来优势很大，尤其是在<strong>限制拟合函数的变量</strong>上。对于在 <em>Athena</em> 中的 <em>Spline</em> 函数，需要考虑只有三个变量：函数级数 (polynomial order 非“真多项式”的级数)、 节点 (knot) 和所需要拟合数据范围 (range)。</p>
<p>    <em>Rbkg</em> 的作用就是<strong>控制节点 (knots) 的数量上限</strong>，如下方程所示。节点代表了实验数据里抽取的点用于拟合 <em>Spline</em> 函数。节点越多，<em>Spline</em> 方程就可以变得更加贴近实验曲折的数据，反之方程的线条越直。</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>N</mi><mrow><mi>k</mi><mi>n</mi><mi>o</mi><mi>t</mi><mi>s</mi></mrow></msub><mo>=</mo><mfrac><mrow><mn>2</mn><msub><mi>R</mi><mrow><mi>b</mi><mi>k</mi><mi>g</mi></mrow></msub><mi mathvariant="normal">Δ</mi><mi>k</mi></mrow><mi>π</mi></mfrac></mrow><annotation encoding="application/x-tex">N_{knots} = \frac{2R_{bkg}\Delta k}{\pi}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="mord mathdefault mtight">n</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">t</span><span class="mord mathdefault mtight">s</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.05744em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">π</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">b</span><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">g</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord">Δ</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<p><strong>Equation 2.</strong> <em>Spline</em> 函数中的节点数量上限表达式。除了 <em>Rbkg</em>，选择 k 空间的范围 (<em>Spline range in k or E</em>, <strong>Figure 1.</strong>) 也会影响节点数量的上限。</p>
<br/>
<figure data-type="image" tabindex="2"><img src="https://i.loli.net/2020/08/18/A5EXzFrUviRMSWp.png" alt="02Rbkg.png" loading="lazy"></figure>
<p><strong>Figure 2.</strong> 选择  <em>Rbkg</em> = 0.2 时背景函数非常直（节点数量少）。</p>
<br/>
<figure data-type="image" tabindex="3"><img src="https://i.loli.net/2020/08/18/fLRVzF1AI9eqvTY.png" alt="20Rbkg.png" loading="lazy"></figure>
<p><strong>Figure 3.</strong> 选择  <em>Rbkg</em> = 2.0 时背景函数曲折（节点数量多）。</p>
<br/>
<br/>
<h3 id="背景曲线的曲折程度影响-k-空间和-r-空间">背景曲线的曲折程度影响 k 空间和 R 空间</h3>
<p>    我们知道在 EXAFS 区间上下波动的信号便是邻近原子返回中心原子的信号，如果背景函数 (<em>Spline function</em>) 波动过大（<em>Rbkg</em> 大，节点数量多），那么会把本属于真正邻近原子的波动信号给纳入背景函数中；反之，如果背景函数太直（<em>Rbkg</em> 小，节点数量少），就不能把本属于孤立中心原子发出的信号（真正的背景）摘干净。在这一步，<em>Rbkg</em> 影响到了 k 空间里面的图像。</p>
<figure data-type="image" tabindex="4"><img src="https://i.loli.net/2020/08/18/RQq3y8ihCUTjbok.png" alt="kspace.png" loading="lazy"></figure>
<p><strong>Figure 4.</strong> 对同一样品 Fe_lepidocrocite（<a href="https://baike.baidu.com/item/%E7%BA%A4%E9%93%81%E7%9F%BF">纤铁矿</a>）取不同的 <em>Rbkg</em> 数值在 k 空间对比。（蓝线 1.0 Å，红线 0.2 Å，绿线 2.0 Å）</p>
<br/>
<p>    对比 <em>Rbkg</em> = 1.0 Å（蓝线）和 <em>Rbkg</em> = 0.2 Å（红线），可以看到的是 k 空间中的图像信号基本上在同相位的（一起上一起下），但是 <em>Rbkg</em> = 0.2 Å 的图像可以看到 k 空间中的”峰都会宽一些“。</p>
<p>    对比 <em>Rbkg</em> = 1.0 Å（蓝线）和 <em>Rbkg</em> = 2.0 Å（绿线），在 k = 9 Å<sup>-1</sup> 以下，两者曲线差别大，尤其是绿线的信号小了不少。在 k = 9 Å<sup>-1</sup> 之后，两者图像基本吻合。</p>
<br/>
<p><img src="https://i.loli.net/2020/08/18/4CpnY7681rM5gvy.png" alt="rspace.png" loading="lazy"><br>
<strong>Figure 5.</strong> 对同一样品 Fe_lepidocrocite（<a href="https://baike.baidu.com/item/%E7%BA%A4%E9%93%81%E7%9F%BF">纤铁矿</a>）取不同的 <em>Rbkg</em> 数值在 R 空间对比。（蓝线 1.0 Å，红线 0.2 Å，绿线 2.0 Å）</p>
<br/>
<p>    老生常谈的概念：R 空间是对 k 空间做傅里叶变换得到的，R 空间中 x 轴也就是 k 空间里面的频率（这里看不懂的去看<a href="https://www.bilibili.com/video/BV1Mk4y1B7Vz/">这个视频</a>）。那么既然 k 空间的数据已经改变，R 空间图像也会有所改变。可以看到的是选 <em>Rbkg</em> = 0.2 Å（红线）会比选 <em>Rbkg</em> = 1.0 Å（蓝线）多出来了在 0.5 Å 的峰，<strong>一个 artificial signal</strong>。而 <em>Rbkg</em> = 2.0 Å（绿线）基本上抹去了在 1.5 Å 的信号，我们知道这个样品里面有 Fe-O path，选择大的 <em>Rbkg</em> 直接<strong>消除了原本样品真实存在的信号</strong>。</p>
<br/>
<p><img src="https://i.loli.net/2020/08/18/4tz9aQjL7hHvNIT.png" alt="08Rbkg.png" loading="lazy"><br>
<strong>Figure 6.</strong> 对同一样品 Fe_lepidocrocite（<a href="https://baike.baidu.com/item/%E7%BA%A4%E9%93%81%E7%9F%BF">纤铁矿</a>）取 <em>Rbkg</em> = 1 和 0.8 在 k 空间对比。（完全一样）</p>
<h3 id="这也就是为什么-rbkg-的选择非常固定10-å-或者-r-空间第一层信号的一半距离-选低了小于-10-å-的地方-r-空间会冒出来非真实的信号选高了会把你真实-exafs-信号给抹去"><strong>这也就是为什么 <em>Rbkg</em> 的选择非常固定：1.0 Å 或者 R 空间第一层信号的一半距离。选低了，小于 1.0 Å 的地方 R 空间会冒出来非真实的信号；选高了，会把你真实 EXAFS 信号给抹去。</strong></h3>
<br/>
<br/>
<h3 id="rbkg-影响在-artemis-中-rmin-下限"><em>Rbkg</em> 影响在 <em>Artemis</em> 中 <em>Rmin</em> 下限</h3>
<figure data-type="image" tabindex="5"><img src="https://i.loli.net/2020/08/18/bt3afOLwxPyNjqd.jpg" alt="Inkedartemi_L.jpg" loading="lazy"></figure>
<p><strong>Figure 7.</strong> <em>Artemis</em> 中 <em>Rmin</em> 的位置。（红线）</p>
<br/>
<p>    <strong>在 <em>Artemis</em> 里面 <em>Rmin</em> 的值必须要大于等于在 <em>Athena</em> 中的 <em>Rbkg</em></strong>。假设在一开始选择了 <em>Rbkg</em> = 1.0 Å，那么 <em>Artemis</em> 拟合 EXAFS 时只可能从 R = 1.0 Å 起拟合。假设强行把 <em>Rmin</em>设置为 0.2 Å，就会得到如下报错。要解决这个问题要不然调高 <em>Rmin</em> 要不然回到 <em>Athena</em> 重新设置  <em>Rbkg</em> 再加载修改后的 .prj 文件到  <em>Artemis</em> 中。</p>
<figure data-type="image" tabindex="6"><img src="https://i.loli.net/2020/08/18/YyKP5cqAouLtJw7.png" alt="wrong.png" width="535" height="640" loading="lazy"></figure>
<p><strong>Figure 8.</strong> 当 <em>Rmin</em> 小于 <em>Rbkg</em> 时。</p>
<Br/>
<br/>
<br/>
<br/>
<h2 id="参考阅读">参考阅读</h2>
<ol>
<li>Athena 官方教程 4.2 章节：<a href="https://bruceravel.github.io/demeter/documents/Athena/bkg/rbkg.html">The AUTOBK Algorithm and the Rbkg Parameter</a></li>
<li>AUTOBK 算法原始文献：<a href="https://journals.aps.org/prb/abstract/10.1103/PhysRevB.47.14126"><em>Phys. Rev. B</em>,<strong>1993</strong> 47:14126–14131</a></li>
<li>样条函数维基百科：<a href="https://zh.wikipedia.org/zh-hans/%E6%A0%B7%E6%9D%A1%E5%87%BD%E6%95%B0">中文</a>和<a href="https://en.wikipedia.org/wiki/Spline_(mathematics)">英文</a>。</li>
</ol>
<Br/>
<br/>
<br/>
<br/>
<pre><code>希望我讲清楚了这个点，感谢你的阅读。
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Edge Energy & 吸收边]]></title>
        <id>https://twocircles24.github.io/post/edge-energy/</id>
        <link href="https://twocircles24.github.io/post/edge-energy/">
        </link>
        <updated>2020-08-13T07:55:56.000Z</updated>
        <summary type="html"><![CDATA[<p>(16 min 37 s reading) 什么是 <em>E<sub>0</sub></em>？怎么选 <em>E<sub>0</sub></em>？</p>
]]></summary>
        <content type="html"><![CDATA[<p>(16 min 37 s reading) 什么是 <em>E<sub>0</sub></em>？怎么选 <em>E<sub>0</sub></em>？</p>
<!-- more -->
<br/>
<br/>
<p><strong>视频：E0, Edge Energy &amp; 吸收边 | XAFS数据处理参数讨论</strong> <a href="https://www.bilibili.com/video/BV1jK4y1Y71X/">Bilibili</a>, <a href="https://youtu.be/e0TwlNPTnik">YouTube</a></p>
<br/>
<br/>
<p><strong>阅读提示1：参考阅读有 <a href="https://onlinelibrary.wiley.com/doi/abs/10.1002/xrs.1103"><em>X‐Ray Spectrom.</em>, 37: 572-584.</a>, <a href="https://www.amazon.com/XAFS-Everyone-Scott-Calvin/dp/1439878633">《XAFS for Everyone》</a> 和 <a href="https://www.amazon.com/Introduction-XAFS-Practical-Absorption-Spectroscopy-ebook/dp/B00AKE1WEY">《Introduction to XAFS: A Practical Guide to X-ray Absorption Fine Structure Spectroscopy》</a>。</strong></p>
<p><strong>阅读提示2：该文只用于参考和建议，非标准。各个课题遭遇的数据差异巨大，我的建议不一定适合你的数据处理，请谨慎使用。</strong></p>
<p><strong>阅读提示3：回答仅代表我一个人的看法，不代表正确解决问题的办法。我有不知道答案的问题，也有不懂回答错误的问题。如果我有讲错地方，请告诉我还有其他人。</strong></p>
<br/>
<hr>
<br/>
<h1 id="如果来不及看完全文">如果来不及看完全文</h1>
<br/>
<ol>
<li><em>E<sub>0</sub></em> 是指让电子离开原子的能量。这个定义模棱两可，看了等于没看。</li>
<li>在 <em>Athena</em> 中，<em>E<sub>0</sub></em> 通常是可以自己人为来定义，没有固定套路。例如以下几类：<br>
a. 吸收先谱图跳起来的点；<br>
b. XANES <strong>一阶微分(first derivative)</strong> 中的第一个顶点；若有 <em>pre-edge</em> 存在，建议选择<strong>强度最高</strong>的顶点 （<strong>我个人最为推荐</strong>）；<br>
c. XANES 中起跳后第一个峰 (1st peak in white line region)。</li>
</ol>
<figure data-type="image" tabindex="1"><img src="https://i.loli.net/2020/08/10/YDiOoAUJhpbFG4Q.jpg" alt="" loading="lazy"></figure>
<p><strong>Figure 1.</strong> 选择<em>E<sub>0</sub></em> 的 a 点（一开始出现吸收）和 c 点（吸收最高）。</p>
<br/>
<figure data-type="image" tabindex="2"><img src="https://i.loli.net/2020/08/10/sw3vVZLWxEQKpSa.jpg" alt="" loading="lazy"></figure>
<p><strong>Figure 2.</strong> 选择<em>E<sub>0</sub></em> 的 b 点（一阶微分中最高）。</p>
<br/>
<ol start="3">
<li>严格来说，<em>E<sub>0</sub></em> <strong>不可以</strong>作为判断氧化态相对高低的<strong>唯一标准</strong>。</li>
<li>在报告 edge energy 的时候，例如写文章，<strong>仍用 <em>Athena</em> 中选择的 <em>E<sub>0</sub></em> 数值</strong>。</li>
<li>在 <em>Athena</em> 中使用任一标准理论上都可以，但要注意：<br>
    a. 在后续 <em>Artemis</em> 拟合时，|<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Δ</mi></mrow><annotation encoding="application/x-tex">\Delta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Δ</span></span></span></span><em>E<sub>0</sub></em>| ≤ 10 eV；<br>
    b. 在写文章的时候需要明确指出自己选择的标准；<br>
    c. 在需要相互比较的 XAFS 数据时，尽可能使用同一标准。</li>
<li>在 <em>Artemis</em> 中，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Δ</mi></mrow><annotation encoding="application/x-tex">\Delta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Δ</span></span></span></span><em>E<sub>0</sub></em> 是对在 <em>Athena</em> 中的 <em>E<sub>0</sub></em> 进行修正。这仅仅是出于对 EXAFS 拟合目的，不是对 <em>E<sub>0</sub></em> 本质上的修改。</li>
<li>EXAFS 拟合中通常对不同的路径 (path) 只会有<strong>一个相同 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Δ</mi></mrow><annotation encoding="application/x-tex">\Delta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Δ</span></span></span></span><em>E<sub>0</sub></em> 变量</strong>，因为电子都是从同一个中心原子逃逸。除非存在样品中是两种及两种以上不同氧化态的混合物，对各自组分定义不同的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Δ</mi></mrow><annotation encoding="application/x-tex">\Delta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Δ</span></span></span></span><em>E<sub>0</sub></em>。实际情况中需要考虑变量数量上限 (number of independent points)， 很难有给 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Δ</mi></mrow><annotation encoding="application/x-tex">\Delta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Δ</span></span></span></span><em>E<sub>0</sub></em> 多个变量的情况。</li>
</ol>
<br/>
<br/>
<hr>
<br/>
<br/>
<h1 id="进一步讨论">进一步讨论</h1>
<br/>
<h2 id="1-理论定义">1. 理论定义</h2>
<br/>
<p>    <em>E<sub>0</sub></em> 的定义是来源于光电子相关公式的定义：</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>k</mi><mo>=</mo><mfrac><msqrt><mrow><mn>2</mn><msub><mi>m</mi><mi>e</mi></msub><mo>(</mo><mi>E</mi><mo>−</mo><msub><mi>E</mi><mn>0</mn></msub><mo>)</mo><mo>)</mo></mrow></msqrt><mi mathvariant="normal">ħ</mi></mfrac></mrow><annotation encoding="application/x-tex">k = \frac{\sqrt{2m_{e}(E-E_{0}))}}{ħ}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.316em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.63em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord latin_fallback">ħ</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.6950000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.935em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mord">2</span><span class="mord"><span class="mord mathdefault">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">e</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span></span></span><span style="top:-2.8950000000000005em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg width='400em' height='1.28em' viewBox='0 0 400000 1296' preserveAspectRatio='xMinYMin slice'><path d='M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,
158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067
c4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,
175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71
c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,
-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26
s76,-59,76,-59s76,-60,76,-60z M1001 80H40000v40H1012z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.30499999999999994em;"><span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<p>​        注：<em>m<sub>e</sub></em> 电子质量， <em>ħ</em> 狄拉克常数。</p>
<p>    我们关心的是<strong>入射光子能量（<em>E</em>）和波数（<em>k</em>，也就是 EXAFS 中 <em>k</em> 空间的 x 轴）</strong> 之间的关系。在入射光子能量 <em>E</em> 中，包含了两个部分：让内层电子逃离原子的能量和<strong>逃离之后剩余能量变为动能</strong>。而波数 <em>k</em> 只和动量相关，所以需要移除“让电子离开原子的”能量，也就是 <em>E<sub>0</sub></em> 。</p>
<br/>
<br/>
<p>    <em>Edge</em> 的定义是：</p>
<blockquote>
<p>The e​nergy at which there is a sharp rise (discontinuity) in the (linear) absorption coefficient of X-rays by an element. (IUCr 2011.)</p>
</blockquote>
<p>    同样是一个说了等于没说的定义。因为这一个 &quot;sharp rise&quot;，从开始吸收能量到达到最高值，是发生在了<strong>一段能量距离</strong>，而不是精准的一个点。 很多时候我们也用“edge”来描述一个某个元素做的某个边。比如 Fe K-edge EXAFS 也就是铁元素的 K 边，那就是说测量的是 Fe 元素在 7,112 eV 附近的同步辐射精细衍射吸收谱（-150 ~ +1000 eV）。</p>
<br/>
<figure data-type="image" tabindex="3"><img src="https://i.loli.net/2020/08/10/mhJO347yxtkXWCe.jpg" alt="InkedE0_xanes_range.jpg" loading="lazy"></figure>
<p><strong>Figure 3.</strong> 纤铁矿的 Fe K-edge XANES 有从大约 7,110 ~ 7,733 eV 都可以看作 <em>edge</em>。</p>
<br/>
<p>    <strong>给出 <em>E<sub>0</sub></em> 和 <em>Edge</em> 的定义后，我们在实际操作中常常把它们两个画上等号。</strong></p>
 <br/>
 <br/>
 <br/>
 <br/>
<h2 id="2-e0-出现的地方">2. <em>E<sub>0</sub></em> 出现的地方</h2>
<br/>
<p>    ​我们需要把上述的理论定义具象化，在 XAFS 中常提及的 <em>E<sub>0</sub></em> 出现在：</p>
<p>        1. 对参考金属单质 (reference spectra) 进行校正 (calibration) 的时候。例如：利用 Fe 金属来对含铁样品进行能量校正，那么 Fe 金属的 K-edge <em>E<sub>0</sub></em> 在 7,112 eV。<br>
        2.  在 <em>Athena</em> 中对样品选择在 XANES 一阶微分中的最高峰作为这个样品的 <em>E<sub>0</sub></em>。例如：对 Fe_lepidocrocite 样品（<a href="https://baike.baidu.com/item/%E7%BA%A4%E9%93%81%E7%9F%BF">纤铁矿</a>），选择了 7128.2 eV 作为 它的 <em>E<sub>0</sub></em>。<br>
        3. 在 <em>Artemis</em> 拟合中，会用到 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Δ</mi></mrow><annotation encoding="application/x-tex">\Delta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Δ</span></span></span></span><em>E<sub>0</sub></em> 来帮助 EXAFS 微调，使拟合结果更加吻合实验数据。</p>
<p>    既然它们出现在了不同的地方，跟他人交流 &quot;E<sub>0</sub>&quot; 时有必要先讲明是什么 <em>E<sub>0</sub></em>，否则很容易出现误会。</p>
<br/>
<figure data-type="image" tabindex="4"><img src="https://i.loli.net/2020/08/10/DnkbFEIBSfVjQ5T.png" alt="E0_1st_deri.png" loading="lazy"></figure>
<p><strong>Figure 4.</strong> 在 XANES 一阶微分中选择了最高点（黄色小圆点）。</p>
<br/>
<figure data-type="image" tabindex="5"><img src="https://i.loli.net/2020/08/10/AM8OVzFXDyBbR5l.png" alt="athnea.png" loading="lazy"></figure>
<p><strong>Figure 5.</strong> 在 <em>Athena</em> 界面中显示 7128.2 eV（对应 <strong>Figure 4</strong> 中的小黄点）。</p>
 <br/>
 <br/>
 <br/>
 <br/>
<h2 id="3-选择-e0">3. “选择” <em>E<sub>0</sub></em></h2>
<br/>
<h3 id="单质常用于校正目的">单质（常用于校正目的）</h3>
<p>​    在一阶微分中选择第一个峰，具体能量数值可以参考 <a href="http://skuld.bmsc.washington.edu/scatter/AS_periodic.html">X-ray Absorption Edges</a>。然而最近在 <a href="https://www.mail-archive.com/ifeffit@millenia.cars.aps.anl.gov/msg06914.html">Ifeffit 讨论</a>中有提及到 W L<sub>2</sub> 和 L<sub>3</sub>-edge 的能量不是 <a href="http://skuld.bmsc.washington.edu/scatter/AS_periodic.html">X-ray Absorption Edges</a> 标出的 11,544 和 10,207 eV。但不必太过惊慌，目前大部分人依然参考这些能量值作为标准，建议在发表文章的时候讲明用于校正的能量值即可。</p>
<br/>
<br/>
<h3 id="样品已知标准样品或未知样品">样品（已知标准样品或未知样品）</h3>
<p>​    在 <em>Athena</em>，可以参考的标准有很多（不是以推荐顺序来列的）：</p>
<p>   ​    1. 一阶微分中的第一个峰 (first inflection point)；</p>
<p>   ​    2. 一阶微分中最高的峰 (largest peak in 1st derivative XANES)；</p>
<p>   ​    3. 吸收最强区间 (<a href="https://chem.libretexts.org/Bookshelves/Physical_and_Theoretical_Chemistry_Textbook_Maps/Supplemental_Modules_(Physical_and_Theoretical_Chemistry)/Spectroscopy/X-ray_Spectroscopy/XANES_-_Theory">white line</a>) 的第一个峰，常常是吸收能量起跳后第一个峰；</p>
<p>​   ​    4. （在归一化后）取 y = 0.5 时的能量数值 (halfway up the edge)；</p>
<p>​   ​    5. 用其他（类似）样品得到的 <em>E<sub>0</sub></em> 来定义；</p>
<p>​   ​    6. 在吸收发生开始的能量数值（onset of the edge）。</p>
<p>​   ​    ……</p>
<p>    不难想象，不同的定义会给出不同的 <em>E<sub>0</sub></em> 的数值。没有必要对于同一个化合物给出的不同<em>E<sub>0</sub></em> 值感到疑惑。正确做法是去在文中寻找作者是如何定义 <em>E<sub>0</sub></em>。在<a href="https://www.amazon.com/XAFS-Everyone-Scott-Calvin/dp/1439878633">《XAFS for Everyone》</a> Box 10.4 中写到：</p>
<blockquote>
<p>But the bottom line is that it (E<sub>0</sub>) WORKS! In the EXAFS region, the spectrum behaves as if there are electrons with a well-defined momentum, meaning <em>E<sub>0</sub></em> is well defined too.</p>
</blockquote>
<br/>
<p>    在<a href="https://www.amazon.com/Introduction-XAFS-Practical-Absorption-Spectroscopy-ebook/dp/B00AKE1WEY">《Introduction to XAFS: A Practical Guide to X-ray Absorption Fine Structure Spectroscopy》</a>中作者也说道：</p>
<blockquote>
<p>All of these metrics (<em>E<sub>0</sub></em>) are suﬃcient because we just need an initial guess; a few electron volts error doesn’t matter, because the energy zero is ﬁne-tuned in later analysis (meaning <em>Artemis</em>).</p>
</blockquote>
<br/>
<p>    <strong>说大白话就是：<em>E<sub>0</sub></em> 能使就行。比如让你老板觉得行，比如让你的  <em>Artemis</em> 里面拟合出来的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Δ</mi></mrow><annotation encoding="application/x-tex">\Delta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Δ</span></span></span></span><em>E<sub>0</sub></em> 绝对值小于等于 10 eV。</strong></p>
<br/>
<br/>
<h3 id="exafs中拟合-deltae0">EXAFS中拟合 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Δ</mi></mrow><annotation encoding="application/x-tex">\Delta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Δ</span></span></span></span><em>E<sub>0</sub></em></h3>
<p>    在视频《从 EXAFS 方程讨论拟合变量 | Artemis | 同步辐射吸收谱(XAS)数据处理》(<a href="https://www.bilibili.com/video/BV1Mk4y1B7Vz">Bilibili</a>, <a href="https://www.youtube.com/playlist?list=PLpaQuvNA9-Eunu6Nxmn4hc7oFE2FJ1pWR">YouTube</a>) 中讨论过 <em>E<sub>0</sub></em> 会影响 <em>k</em> 空间开始的地方 (<em>k</em> = 0)，从而影响相位 (phase)。在EXAFS中拟合的具体体现就是会影响<strong>原子距离 (<em>R</em>)</strong>。</p>
<p>    <a href="https://speakerdeck.com/bruceravel/advanced-topics-in-exafs-analysis?slide=57">Bruce Ravel 的讲义</a>里面提到在 <em>Artemis</em> 中限制变量数量可以优先考虑 <em>S<sub>0</sub><sup>2</sup></em> 和 <em>E<sub>0</sub></em>，即对于同一个化合物或是样品，它们在每一条 path 中都假定是一样的：</p>
<blockquote>
<p><em>S<sub>0</sub><sup>2</sup></em>: This is a parameter of the central atom and has somthing to do with the relaxation of electrons around the core-hole. In copper metal (one of his presentation examples), <em>S<sub>0</sub><sup>2</sup></em> is the same for all paths.</p>
</blockquote>
<blockquote>
<p><em>E<sub>0</sub></em>: In a single data set, single FEFF calculation fit, this parameter is used to align the wavenumber grids of the data and theory. In copper metal (one of this presentation examples), <em>E<sub>0</sub></em> is the same for all paths.</p>
</blockquote>
<p>    当有人问为什么谁谁谁的文献一个标准样品每一个 path 都有一个不同的  <em>E<sub>0</sub></em> 的时候，大约只会是两种答案：1. 他/她用的不是 <em>Artemis</em> 来拟合；2. 他/她是菜狗。</p>
<p>    <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Δ</mi></mrow><annotation encoding="application/x-tex">\Delta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Δ</span></span></span></span><em>E<sub>0</sub></em> 只出现在 <em>Artemis</em> 里面，目的只用来<strong>提高拟合结果</strong>，没有实际的物理意义。所以在汇报 <em>E<sub>0</sub></em> 的时候，仍选择在 <em>Athena</em> 里面的数值，例如 <strong>Figure ,5.</strong> 中的 7,128.2 eV。</p>
 <br/>
 <br/>
 <br/>
 <br/>
<h2 id="pre-edge-讨论以-k-edge-为主">Pre-edge (讨论以 K-edge 为主)</h2>
<br/>
<p>    Pre-edge常见于过渡金属XANES中，顾名思义发生在 &quot;<strong>edge</strong>&quot; 之前，在主要的跃迁中间有较小的峰。因为其形状不一，pre-edge 经常用作于指纹信息 (fingerprint information)，可以快速定性地判定物种信息。这是因为 <em>pre-edge</em> 的形成条件与 <em>d</em> 轨道结构紧密相关，而 <em>d</em> 轨道上通常又承载了价电子 (<a href="https://en.wikipedia.org/wiki/Valence_electron">valence electron</a>)、配位数 (<a href="https://en.wikipedia.org/wiki/Coordination_number">coordination number</a>)和几何结构（四面体、八面体等）之类的结构信息。</p>
<p>    针对一个具有某种<strong>几何结构</strong>的<strong>某种元素</strong>化合物，在<strong>某种价态</strong>上会有<em>pre-edge</em> 特征峰。如果拿未知样品和已知样品的 XANES 特征（包含 <em>edge</em> 和 <em>pre-edge</em>）进行比较，可以大致得到一个定性的结论。</p>
<br/>
<figure data-type="image" tabindex="6"><img src="https://i.loli.net/2020/08/11/AVOQsUkGciMPxtJ.png" alt="Cr_preedge.png" loading="lazy"></figure>
<p><strong>Figure 6.</strong> Cr K-edge XANES for Cr<sub>2</sub>O<sub>3</sub> (+3, octahedral CrO<sub>6</sub> geometry) and  K<sub>2</sub>Cr<sub>2</sub>O<sub>7</sub> (+6, tetrahedral CrO<sub>4</sub> geometry).</p>
<br/>
<br/>
<h3 id="主要跃迁-edge-形成光谱选择规则允许">主要跃迁 (<em>edge</em>) 形成：光谱选择规则允许</h3>
<br/>
<h4 id="deltal-1主要跃迁"><em><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Δ</mi></mrow><annotation encoding="application/x-tex">\Delta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Δ</span></span></span></span>l</em>= ± 1：主要跃迁</h4>
<p>​    Pre-edge 的形成原因与原子能级之间的跃迁存在选择定则 (<a href="https://chem.libretexts.org/Bookshelves/Physical_and_Theoretical_Chemistry_Textbook_Maps/Supplemental_Modules_(Physical_and_Theoretical_Chemistry)/Spectroscopy/Electronic_Spectroscopy/Selection_Rules_for_Electronic_Spectra_of_Transition_Metal_Complexes">selection rule</a>) 有关。简单来说，光谱跃迁需要满足 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Δ</mi></mrow><annotation encoding="application/x-tex">\Delta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Δ</span></span></span></span><em>l</em>= ± 1 和 <em><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Δ</mi></mrow><annotation encoding="application/x-tex">\Delta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Δ</span></span></span></span>j</em> = 0, ± 1 两个标准，尤其是前者。</p>
<p>    这个要求是要求两个轨道的量子数相差为1。量子数也就是原子轨道：<em>s</em>, <em>p</em>, <em>d</em>, <em>f</em>, <em>g</em>...对应的量子数是 0, 1, 2, 3, 4, 5... 按照这样的规则，如果是在 <em>s</em> 轨道 (<em>l</em> = 0) 的电子只能去 <em>p</em> 轨道 (<em>l</em> = 1)；如果是 <em>p</em> 轨道的电子则可以去 <em>s</em> 或者 <em>d</em> 轨道 (<em>l</em> = 2)。</p>
<p>​    这一个规则是决定了<strong>主要吸收</strong>，也就是XANES中的 <em>edge</em>。对 K-edge，是 1<em>s</em> 电子跃迁到有空余位置的 n<em>d</em> 轨道，比如 Fe K-edge (1<em>s</em> → 4<em>p</em>)、Mo K-edge (1<em>s</em> → 5<em>p</em>)。另一方面按照这样的规则 <em>s</em> 轨道电子到 <em>d</em> 轨道是<strong>不允许的</strong>。</p>
<br/>
<h4 id="部分跃迁-pre-edge-形成对称性允许和-p-d-杂化">部分跃迁 (<em>pre-edge</em>) 形成：对称性允许和 <em>p</em>-<em>d</em> “杂化”</h4>
<p>​    根据分子轨道理论 (<a href="https://en.wikipedia.org/wiki/Molecular_orbital_theory">molecular orbital theory</a>)，分子轨道是由原子轨道线性组合得到。如果发生跃迁，需要满足对称性一致的要求。为了成键，主要考虑 <em>s</em>, <em>p</em>, <em>d</em> 轨道。其中 <em>s</em> 轨道的对称性最高（球形），可以自由满足跟其他轨道的条件，不用考虑对称性限制。剩下的就是考虑 <em>p</em> 和 <em>d</em> 轨道。 为了方便解释这个问题，我们可以借用“<a href="%5Bhttps://zh.wikipedia.org/zh-hans/Sp%E6%9D%82%E5%8C%96%5D(https://zh.wikipedia.org/zh-hans/Sp%E6%9D%82%E5%8C%96)">杂化</a>”的概念来进一步描述 <em>T<sub>d</sub></em>, <em>O<sub>h</sub></em> 和 <em>D<sub>4h</sub></em> 对称的分子轨道结构。</p>
<br/>
<p>    具有 <em>T<sub>d</sub></em> 对称性的分子为对称四面体（参考 CH<sub>4</sub>）。<em>p<sub>x,y,z</sub></em> 和 <em>d<sub>xy,xz,yz</sub></em> 属于 <em>T<sub>2</sub></em> 不可约对称性。因为对称性匹配，<em>p</em> 和 <em>d</em> 轨道发生“杂化”，形成分子轨道。<strong>1<em>s</em> 电子在这样的条件下可以发生 electric quadrupole transition，跃迁到 <em>p-d</em> “杂化”轨道上</strong>。核心仍然是 1<em>s</em> 电子跃迁到 <em>p</em> 轨道上，但由于与 <em>d</em> 轨道“杂化”（通常是 <strong>(n-1) d</strong> 轨道），能量比”未杂化“轨道高，<em>pre-edge</em> 会出现在 <em>edge</em> 之前。</p>
<p>​    具有 <em>O<sub>h</sub></em> 对称性的分子为对称八面体（参考 SF<sub>6</sub>）。<em>p<sub>x,y,z</sub></em> 和 <em>d<sub>xy,xz,yz</sub></em>  没有共同的对称性所以无法形成“杂化”，也就是说<strong>完全对称的六配位化合物没有 <em>pre-edge</em></strong>。</p>
<p>    具有 <em>D<sub>4h</sub></em> 对称性的分子通常是平面四配位（参考 [Ni(CN)<sub>4</sub>]<sup>2-</sup>）。<em>p<sub>x,y,z</sub></em> 和 <em>d<sub>xy,xz,yz</sub></em> 同属于 <em>E<sub>g</sub></em> 不可约对称性。所以同样也允许 1<em>s</em> 电子跃迁到 <em>p-d</em> “杂化”轨道，也会有 <em>pre-edge</em>。</p>
<p>​    在上述介绍中，特地强调了是“完全对称”配位构型。这是因为在变形八面体 (distorted octahedral) 中，<em>p-d</em> “杂化”依然可以发生，出现很小的 <em>pre-edge</em>。所以<strong>六配位 ≠ no pre-edge</strong>。对于其他构型也是如此：如果几何结构存在变形 (distortion)，<em>pre-edge</em> 会受到影响。</p>
<p>    <strong>对称性不是唯一的影响因素</strong>，<strong>d 轨道电子数量</strong>同样可以影响 <em>pre-edge</em>。如果 3<em>d</em> 轨道在发生跃迁前已经部分被价层电子占满，即使有 <em>p-d</em> “杂化”轨道，1<em>s</em> 电子的跃迁会受到价电子的影响。<strong>内层电子被激发前价电子越多的元素，1<em>s</em> 电子到 <em>p-d</em> “杂化”轨道的概率越小，<em>pre-edge</em> 的强度越小。</strong> 半充满的电子结构同样会受到影响，例如 Fe<sup>3+</sup> (3d<sup>5</sup>) 的XANES只有很小的 <em>pre-edge</em>，但是 Fe<sup>6+</sup> (3d<sup>0</sup>) 有明显 <em>pre-edge</em>。</p>
<br/>
<br/>
<p>    由于 <em>pre-edge</em> 的变化和形状实在太大且复杂，不会在这篇文章里面展开讲了。如果需要了解，从同一元素开始（比如自己手头上关心的实验数据）。<em>Pre-edge</em> 一大便利是可以直接观察，但常常会出现“比较得不够仔细”或者“比较错了对象”。如果要保证严格的论述，建议留心如下细节：<br>
       a. 判断未知样品的几何结构还有价态；<br>
       b.在做实验前，阅读文献了解相同元素的 XANES 是如何随着几何结构和价态改变的，观察标准样品的晶体结构确认一致性；<br>
       c. 根据上述两步得到的信息，准备标准样品并跟随未知样品一起去同步辐射实验室测试；<br>
       d. 得到数据后，先确认标准样品的 XANES 是否和文献中一致，再去跟未知样品比较，甚至是可以做 <a href="https://bruceravel.github.io/demeter/documents/Athena/examples/aucl.html#using-xanes-data-and-lcf-to-study-system-kinetics">Linear combination fittings</a>。</p>
<p>    （对于像 Fe 这样烂大街的元素，XANES 分析一抓一大把。但是像 Ga 比较冷门的元素，做破头都不知道在干嘛）</p>
<br/>
<p><em>还有更多具体的跨元素例子和讨论，可以去参考一开始列出来的文献。</em></p>
<br/>
<br/>
<pre><code>感谢你的阅读。
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[学习 XAFS 的困境]]></title>
        <id>https://twocircles24.github.io/post/why-xafs-difficult/</id>
        <link href="https://twocircles24.github.io/post/why-xafs-difficult/">
        </link>
        <updated>2020-08-11T21:42:10.000Z</updated>
        <summary type="html"><![CDATA[<p>(7 min 50 s reading) 写着写着变成了吐槽大会……</p>
]]></summary>
        <content type="html"><![CDATA[<p>(7 min 50 s reading) 写着写着变成了吐槽大会……</p>
<!-- more -->
<br/>
<br/>
<p><strong>阅读提示1：回答仅代表我一个人的看法，不代表正确解决问题的办法。我有不知道答案的问题，也有不懂回答错误的问题。如果我有讲错地方，请告诉我还有其他人。</strong></p>
<p><strong>阅读提示2：问题来源于B站 or 微博，问题有可能被重新整理。如果你的提问被收入但觉得不合适，请联系我。</strong></p>
<p><strong>阅读提示3：我的一些回答可能会很有争议。如果你不喜欢，那就不喜欢。</strong></p>
<hr>
<br/>
<br/>
<br/>
<h3 id="学-xafs-沉不住气">学 XAFS “沉不住气”</h3>
<p>    XAFS 在我看来是高度集成的学科交叉技术，学习到位了你可以掌握的技能点包含但不限于化学，生物，环境，物理（量子，光学），工程（机械，电路，自动化，3D 打印），计算机（Python，算法，machine learning）等等等等。需要多维度的知识层面来了解这门技术，而且越学你觉得你越不懂，越不懂你会更想去学在你专业以外的知识。很多人看到要学这么多，就差没直接两眼一黑晕过去，下一秒就被劝退。<strong>这门技术耗时耗力，投入（尤其是前期）巨大，全凭自觉而且收效难以预估。</strong></p>
<p>    每当有人问到“学 XAFS 要多久”、“我这套拟合是不是就完事了”这样的问题，我其实很难回答。因为我依然还在面对几年前处理的数据的时候可以得到更多的收获。可惜的是不少老板都对这个技术没什么概念，以为就跟自家实验室里面的红外谱一样，看看两三天就好了。从其他地方拿到数据张嘴就让学生处理出来一套能发文章的 EXAFS 拟合，接着又着急想发文章，随便凑合下感觉看着还行就发了。这种<strong>急功近利的浮躁心态</strong>会逼迫学生无法静下心来处理数据。我一直在重复说“<strong>看了我这几个视频根本就不能算作学会了 XAFS 数据处理</strong>”，这有很长的一段路要走。</p>
<br/>
<br/>
<h3 id="同步辐射资源稀缺">同步辐射资源稀缺</h3>
<p>    即使是在美国，同步辐射的资源也是削尖脑袋去竞争的。我对中国的情况不太了解，听说竞争相当惨烈。 以美国国家实验室为例，作为<a href="https://www.energy.gov/national-laboratories">美国能源部</a>砸钱开办的联邦设施，它们是需要每年被行政部门考核“业绩”。这所谓的 KPI 自然是用发表的文章来衡量的。如果做的不好也是有可能被关的，在 2017 - 2018 年遭遇的科研基金被 Trump Administration 削减时期，某个美国国家同步辐射实验室就被传闻要关闭掉，因为拼不过其他家的业绩。在这样“僧多粥少”和“KPI 压力”的双重因素下，国家实验室只可能选<strong>可以尽快发出重量级文章的课题</strong>。</p>
<p>    B站用户 <a href="https://space.bilibili.com/240773439">@zzzzve</a> 也分享了一些<a href="https://www.bilibili.com/audio/au1758284?type=3">申请机时的经验</a>：</p>
<blockquote>
<p>国内目前测XAS的光源主要有合肥、北京、上海、台湾四个。其中合肥光源是软线，北京和上海主要是硬线，台湾光源是软硬都有。如果你现在想要申请测试XAS，以下几点供参考：<br>
    1.合肥和北京你就不用费力扔本子了，拿不到的。<br>
    2.上海可以一试，但是竞争很激烈，看本子的同时要看帽子和paper。<br>
    3.台湾光源是个不错的选择，一是它的申请人没那么多，竞争压力小一些；二是那边能测XAS的beamline很多，而且有快扫模式。但是台湾申请也会看申请人的帽子(是的没错)，同时行程确实比较繁琐。</p>
</blockquote>
<p>    在自己都没机会见到仪器的情况下，又如何能真的学到其中的道道呢？</p>
<br/>
<br/>
<h3 id="关系铸就了高门槛">“关系”铸就了高门槛</h3>
<p>    既然资源稀缺又有时效考核，同步辐射实验室选课题的标准除了要有足够吸引 (broad social interest)，更要看课题组是否“熟练这门技术”。他们比任何人都清楚要培养一个能独立在国家实验室操作的学生成长周期是按年来计算的，实验室内的工作人员也不负责教导菜鸟。如果你所在的课题组从来就没有接触过同步辐射实际操作，对方审核课题 (proposal) 的时候也会留意到这一点的（扣分项）。</p>
<p>    像是我的导师从 03 年的时候就跟同步辐射实验室打交道，再靠各位前辈们挣下来的名声，我一进组就不需要担忧“拿不拿得到机时”这样的问题。第一次去同步辐射实验室的时候工作人员对我说的就是”啊你是 xxx 组新来的啊，xxx 师兄/姐教你就好了，xxx 组老熟人了。“这样的”关系“不是所有课题组有条件建立起来的，于是另外一条路就是跟已经有跟同步辐射实验室稳定合作关系的人打交道了，这样门槛就会低一些。我隔壁的课题组也是一开始做催化剂，主要用低温 in-situ 红外的技术出了好几篇不错的文章。接着就跟同步辐射实验室的课题组打上了交道，发了 <em>JACS</em>、<em>Nature Material</em>、<em>Nature Chemistry</em> 等一打文章，这就彻底在同步辐射实验室里面建立起了非常稳固的合作关系。但无论”组内培养“还是”对外合作“，门槛都不低。前者要求多年的经验铺路，后者要求文章数量质量。</p>
<br/>
<br/>
<h3 id="xafs-依赖实验经验">XAFS 依赖实验经验</h3>
<p>    跟其他表征相比， XAFS 存在“实验影响数据处理”的难点。举个例子，假设样品浓度是 10 wt% 但用了荧光检测器 (fluorescence data)，谱图会存在荧光自吸收的问题 (<a href="https://bruceravel.github.io/demeter/aug/process/sa.html">self-absorption</a>)。这个来源于实验操作的问题是不会在数据处理的过程中轻易发现的。只学数据处理不顾实验细节，出来的结果很有误导性，或者拟合结果出现很诡异的数值。 同步辐射实验不像 <a href="https://en.wikipedia.org/wiki/Inductively_coupled_plasma_atomic_emission_spectroscopy">ICP-AES</a> 或者是 <a href="https://www.jeol.co.jp/en/products/nmr/basics.html#:~:text=NMR%20is%20an%20abbreviation%20for,in%20a%20powerful%20magnetic%20field.">solution-state NMR</a>，即使不亲手操作独自处理数据也不会出现太多问题。再结合之前的两个点，形成了一个闭环，外面的人很难能加入到这个“环”里面。</p>
<p>    我也见过“A 做样品，B 采 XAFS数据，C 来拟合”的合作模式，中间出现了太多的问题。文章到最后发出来了，但是数据质量真是一言难尽……A 全程“我是谁，我在哪里，我在做什么”的状态。<br>
  <br>
<br/><br>
<br/></p>
<h3 id="迷信同步辐射技术">迷信“同步辐射技术”</h3>
<p>    哎老生常谈了……完全理解文章指标这种不可抗力因素。不得不说，有些不了解同步辐射的人觉得用了一个同步辐射的数据就能把期刊质量给拉上去了，不在该用的地方用上那只能叫“灌水”好吗……这门技术没有想象中的那么厉害，能给出的信息也是有限的。</p>
<p>    真的要发到高影响的文章，<strong>idea 始终是第一位，broad interest 是第二位</strong>。你见过有因为光做 EXAFS 的人发到 <em>Nature</em> 吗？<strong>一篇好的文章是一个好的故事</strong>，同步辐射只是其中服务故事剧情的一环，用的恰到好处那就是神剧情，硬塞进去那就算剧情崩坏。就跟“科幻特效”一样，塞到《流浪地球》和《上海堡垒》能是一回事？不要太迷信这门技术，不少人 XAFS 数据拿到后陷入了“这个到底有什么用”的灵魂拷问。这个问题应该是在做实验之前问，而非之后。花大力气处理得到 XAFS 能给你的和其他表征 (XPS，XRD，TEM etc.) 是同一个，甚至是更少。哎……真的没必要勉强自己上这套数据了，就像国产剧热衷于把 10 集的剧情注水成 80 集。</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[学 XAFS 要多久]]></title>
        <id>https://twocircles24.github.io/post/how-long-for-xafs/</id>
        <link href="https://twocircles24.github.io/post/how-long-for-xafs/">
        </link>
        <updated>2020-08-05T18:54:07.000Z</updated>
        <summary type="html"><![CDATA[<p>(7 min 33 s reading) 很多人想在开始学之前知道这个问题的答案，可惜不是一个很短的时间。</p>
]]></summary>
        <content type="html"><![CDATA[<p>(7 min 33 s reading) 很多人想在开始学之前知道这个问题的答案，可惜不是一个很短的时间。</p>
<!-- more -->
<br/>
<br/>
<p><strong>阅读提示1：回答仅代表我一个人的看法，不代表正确解决问题的办法。我有不知道答案的问题，也有不懂回答错误的问题。如果我有讲错地方，请告诉我还有其他人。</strong></p>
<p><strong>阅读提示2：问题来源于B站 or 微博，问题有可能被重新整理。如果你的提问被收入但觉得不合适，请联系我。</strong></p>
<p><strong>阅读提示3：我的一些回答可能会很有争议。如果你不喜欢，那就不喜欢。</strong></p>
<hr>
<br/>
<br/>
<blockquote>
<p>问：学习同步辐射吸收技术要多久？</p>
</blockquote>
<br/>
<br/>
<p>    答：取决于你的需求，但通常来说比学习大部分你在自己学校能接触的仪器表征要长很多。建议在看我的教程之前对你自己学习目的有个明确的了解。个人认为大致分为几类：</p>
<p>       1. 一站式从设计实验到发表文章；<br>
       2. 张三合成样品，李四帮着拿到了数据，张三需要<strong>自行处理数据然后自己写文章</strong>；<br>
       3. 张三合成样品，李四帮做了实验也写了表征这一块，但是张三需要把<strong>文章剩下的部分比较流畅地结合在一起</strong>再发表；<br>
       4. 张三的课题不需要这门技术，但是看文献的时候经常遇到，不知道其他人在讲什么但又想了解下。</p>
<br/>
<br/>
<p>    显而易见，<strong>从上到下难度依次降低，需求也是从大到小，耗时自然是从长到短</strong>。其实如果再继续细分，在第一类之前还可以有专门做 instrumentation 的人，远在我能力之上。然而他们大多是理论物理方向或者是工程机械方向，对生化环材<s>四大天坑</s>这方面已经没有太大的关系了。我们可以主要来讨论这四类学习目的的耗时。</p>
<br/>
<br/>
<p>    以我自己为例，我应该是第一类中比较比较弱的那种，因为我对工程和理论计算这一块几乎不涉及。我在一开始有上过理论方面的 workshop 再死皮赖脸地抱了大约一年快要毕业（几乎不怎么管我）的大腿。然后可以勉强从做实验到出一套很简单的 EXAFS 数据，但是那个时候我没有 troubleshooting 的能力。差不多再过了一年，我觉得我对 EXAFS 的理解有了质的飞跃。这中间看书尝试各种数据是必要的，重要的转折是我接了一个很重要的课题，我不得不往 XAFS 上面下了很大的力气。<br>
    虽然说把整个实验掌握在自己的眼里是最放心不过而且自由度最高，但是整个过程并不愉悦，要经历各种各样令人崩溃的挫折还要承受全方位的压力。<s>自己亲身经历过有人在实验室出现意外把我吓到差点打 911</s> 而且<strong>不是所有人的课题都如此依赖 XAFS</strong>。总的来讲，前前后后我认为<strong>至少一年的全力投入不能少，实战经历也需要至少一到两次。</strong></p>
<br/>
<br/>
<p>    第二类模式是我目前收到最多提问的。虽然乍一看是互惠互利的合作模式，其实坑很多。第一步中李四可能不会多问张三的样品，导致第二步做实验的时候选择的实验仪器不合适，数据质量不好。最后一步，张三处理数据的时候甚至不知道 I<sub>t</sub>、I<sub>o</sub> 是什么，也不确定数据里面出现奇怪的东西是什么。内心疯狂怀疑人生是自己处理数据能力太差还是数据质量本来就不合格？<br>
    再者，等写文章的时候由于不是自己做的实验，experiment detail 一块缺少了很多细节，给人一种不严谨的感觉。我自己处理过一些数据质量很差的 XAFS 图，其中大约有 80% 可以总结出来下一次可以改进实验的方法来提高数据质量。然而采用第二类合作模式的李四很有可能没时间或者是不愿意做重复的实验，一方面是时间紧张，另一方面这李四认为张三可以在后期数据处理的时候“力挽狂澜”。如果这样， 张三就必须得具有良好的 XAFS 数据处理能力，很可惜我见过这样的“张三”不多。或者说这样的“张三”很有可能是第一类。<br>
    对于第二类模式，<strong>在有大腿庇佑的情况下张三也许半年到一年可以具备最基本的数据解析能力。</strong> 但我更担心的是张三以为自己会分析数据了，其实根本没有学到位。</p>
<br/>
<br/>
<p>    第三类常见于同步辐射实验室内课题组与非同步辐射实验室课题组的合作。个人感觉是比第二种好，张三只要把自己有用的信息摘出来修改修改就能拼在一起，剩下的单独放成一段就完事。但是这有一个前提——李四不是一个憨憨。见过某些驻扎在同步辐射课题组的人合作的时候敷衍了事，毫不负责 。发文章的时候赖死赖活还要个通讯。这种事情不仅发生在同步辐射实验室，各色各类的合作都可能存在这样的风险。但问题是 XAFS 的门槛高，即使想去了解一些基本知识也会比常见表征花的时间要久一些。很多人过于相信在同步辐射实验室内课题组的能力，自己也懒于了解，被蒙在鼓里也不知道怎么一回事。<br>
    在我看来，即使是你不想做 XAFS 实验，只要 XAFS 数据出现在了你的文章，就有责任去了解。<strong>在有人的帮助下，听一个 workshop 或者是与有经验且靠谱负责的人多交流就可以足够了。</strong> 如果说非常信任合作对象，<strong>几门课的时间</strong>就能了解大概，输出文章也不是负担很大的事。</p>
<p>      <s>（遇到这么好的合作者赶紧把他/她大腿抱住不松手吧）</s></p>
<br/>
<p>    第四类需求其实完全可以<strong>通过阅读日积月累来解决，突击一个星期也就解决了</strong>。关键问题是看什么样的文献。首先发表在高影响因子杂志的文章不是第一选择，因为通常来说，影响因子越高的期刊它们的读者更为广泛，内容相对来说更加通俗，带来的问题就是对每一个表征的论述不会落到每个细节。自己去看这样的综合性文章，会有一种看得眼花缭乱似懂非懂<s>其实没懂</s>的体会，最后可能也就是记住了“赵四催化剂老厉害了”、“王五用的表征都好高级”。除此之外，特别专业的 XAFS 相关学术文章 (research article) 也不适合作为入门来看。理由很简单，通常他们的背景大多是物理相关，离应用太远。花了大力气看但是收效甚微，特别打击学习心态。<br>
    个人的经历来看比较好入门了解的是可以有两类：1. 研究 XAFS 大佬们的 workshop 或者是 summer school presentation；2. 有具体应用（例如电催化）、并且极度依赖 XAFS 证据的文章。前者是由最懂 XAFS 的，甚至是制定游戏规则的专家面向入门新手介绍 XAFS，用语简洁易懂为新手着想，权威性也很高。对于看到这篇文的你，可能最大的问题就是语言这一关了。第二种的文章其实不多见了，有机会可以找给大家看看。<s>今天的重点不是这个了。</s></p>
<br/>
<br/>
<p>    目前来说我能想到的大约就着四类学习目的了，如果你是这四类以外的人也请让我了解下嘛~</p>
<br/>
<br/>
<br/>
<br/>
<p><em>注：部分内容先发于B站专栏<a href="https://www.bilibili.com/read/cv7059788">《08/05 关于学习XAFS》</a>。</em></p>
<br/>
<br/>
<pre><code>感谢你的阅读。
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[你问我不一定答 | 第一期]]></title>
        <id>https://twocircles24.github.io/post/youask-ianswer-1/</id>
        <link href="https://twocircles24.github.io/post/youask-ianswer-1/">
        </link>
        <updated>2020-08-02T18:56:19.000Z</updated>
        <summary type="html"><![CDATA[<p>(5 min 38 s reading) 这是我目前想到比较合适且自由度较高的一种方式来归纳大家问过的问题。也许你的问题已经有人问过了。</p>
]]></summary>
        <content type="html"><![CDATA[<p>(5 min 38 s reading) 这是我目前想到比较合适且自由度较高的一种方式来归纳大家问过的问题。也许你的问题已经有人问过了。</p>
<!-- more -->
<br/>
<p><strong>阅读提示1：回答仅代表我一个人的看法，不代表正确解决问题的办法。我有不知道答案的问题，也有不懂回答错误的问题。如果我有讲错地方，请告诉我还有其他人。</strong></p>
<p><strong>阅读提示2：问题来源于 B 站 or 微博，问题有可能被重新整理，先后顺序不代表任何重要程度，如果你的提问被收入但觉得不合适，请联系我。</strong></p>
<hr>
<blockquote>
<p>Q1: 有没有相关书推荐看一下</p>
</blockquote>
<p><strong>A1:</strong></p>
<ol>
<li>参考下<a href="https://twocircles24.github.io/post/xafs-xue-xi-tui-jian-shu-ji-wen-xian/">《安利一些XAFS读物》</a>。</li>
</ol>
<br/>
<br/>
<blockquote>
<p>Q2：张三材料在R空间中出峰位置在 1.4 Å，我需要调节 Rbkg 的值吗？如果不调节直接在 Artemis 里面拟合，那个R范围太小了，独立参数不够 4 个，增加 Rmax 的值拟合效果又不好</p>
</blockquote>
<p><strong>A2:</strong></p>
<ol>
<li><strong>Rbkg</strong> 的通常的选择标准是是 1.0 Å 或者是第一层的一半 (1.4 Å /2 = 0.7 Å)，很少有大于 1.0 Å 的情况；</li>
<li>在 <em>Artemis</em> 里面，<strong>Rmin</strong> 的选择是受限于 <em>Athena</em> 里面的 <strong>Rbkg</strong>，也就是 <strong>Rmin</strong> ≥ <strong>Rbkg</strong>。例如张三选择了 1.4 Å，他在 <em>Artemis</em> 里只能从 1.4 Å 开始拟合；</li>
<li>要解决独立参数不够，需要回到 <em>Athena</em> 里重新设定 <strong>Bbkg</strong>。然后在 <em>Artemis</em> 里面加载修改过后的数据进行拟合。</li>
</ol>
<br/>
<br/>
<blockquote>
<p>Q3. 如果张三现在只有一张归一化以后的 oringi图，没有原始数据。横坐标是Photon Energy 纵坐标是Normatlized intensity(arb. units)，但是可以知道每一条曲线的点的具体坐标，这种情况下可以分析吗？</p>
</blockquote>
<p><strong>A3:</strong></p>
<ol>
<li>张三可。取出数据保存为 txt，然后到 <em>Athena</em> 里面 <u>import data</u>。Y 轴对 Y 轴，X 轴对 X 轴。把 <u>data type</u> 选为 <strong>norm(E)</strong>；</li>
<li>在 <em>Athena</em> 界面中，因为已经加载为 <strong>norm(E)</strong>，无法修改做背景消除和归一化操作，但可以修改 <u>Fourier Transform</u> 的参数。</li>
</ol>
<br/>
<br/>
<blockquote>
<p>Q4. 在 <em>Athena</em> 一开始加载原始数据的时候。能量列和分子、分母的模块出现了十几个方框，张三将能量选为 1，分子分母分别选择 I<sub>0</sub>、I<sub>t</sub> 得到的谱图有非常多的峰，并且看不到明显的吸收边，</p>
</blockquote>
<p><strong>A4:</strong></p>
<ol>
<li>由于各个同步辐射实验室的程序不同，它们写入 XAFS 的数据也是会有差别的。所以经常会出现“I<sub>0</sub>”不是真 I<sub>0</sub> 的事情，不能完全相信文本里面的标签；</li>
<li>最理想的情况是应当询问 beamline 的工作人员或者是采样的人，搞清楚到底哪一列是什么数据；</li>
<li>如果第二条无法实现，那么先回想一下这个数据用的是吸收谱还是荧光谱，再回到数据文本里面去寻找 or 猜测。</li>
</ol>
<br/>
<br/>
<blockquote>
<p>Q5: 在能量矫正的时候，第一微分图里面第一个峰不是最强峰，那么该选择第一个峰还是最强峰？</p>
</blockquote>
<p><strong>A5:</strong></p>
<ol>
<li><strong>E<sub>0</sub></strong> 位置的定义是人为的，所以理论来说这两个地方都可以。到后期做 <em>Artemis</em> 拟合会有修正项。</li>
<li>如果第一个峰不是最强的，我猜测是有 <strong>pre-edge</strong>，那么我个人习惯是不用第一个峰，而是用最强的。因为 <strong>pre-edge</strong> 是由于 <strong>1s-nd</strong> 跃迁，而真正的 XANES 是 <strong>1s-np</strong> 跃迁。</li>
</ol>
<br/>
<br/>
<blockquote>
<p>Q6: 那个E<sub>0</sub>和Calibrate的E有啥区别呢</p>
</blockquote>
<p><strong>A6:</strong></p>
<ol>
<li><u>Calibrate Energy</u> 通常是指利用校正一个已知样品的 <strong>E<sub>0</sub></strong>，比如纯金属 （metal foil)，从而修正自己未知样品的能量偏移。因为在实验中，能量可能存在偏移。可以类比在 <a href="https://en.wikipedia.org/wiki/X-ray_photoelectron_spectroscopy">XPS</a> 技术中大家经常用 Carbon 1s 的 284.8 eV 来进行校正。</li>
<li><strong>E<sub>0</sub></strong> 理论来讲是样品受到X射线后，内层电子吸收射线后逃逸出的阈值，然而在实际经验中大家是人为在 <em>Athena</em> 里面人为定义这个阈值，也就是 <em>Athena</em> 里面的 <strong>E<sub>0</sub></strong>。完了之后去 <em>Artemis</em> 里面微调。</li>
</ol>
<br/>
<br/>
<blockquote>
<p>Q7: FEFF 或者是 Artemis 中的 .inp 文件可以自己进行修改吗？或者自己构建的模型，怎么可以得到相应的 inp 文件？</p>
</blockquote>
<p><strong>A7:</strong></p>
<ol>
<li>可。保存为 <strong>inp</strong> 文件，然后用 <em>notepad</em> 打开直接文本修改。也可以拖到 <em>Originlab</em> 里面直接好给你断列做点加减法；</li>
<li>如果想在 <em>Artemis</em> 里面加载自己的模型，最低要求是需要拿到 <strong>xyz</strong> 文件。利用 <em>Vesta</em> 软件打开，然后保存为 <strong>cif</strong> 文件格式即可去 <em>Artemis</em> 加载了。</li>
</ol>
<br/>
<br/>
<blockquote>
<p>Q8: 张三 DFT计算的 xyz 文件用vesta导出了cif，但是在artemis里运行feff时，显示 you have defined ipot 2 but not used it in the atom list，是为什么呢？2也是中心原子的元素</p>
</blockquote>
<p><strong>A8:</strong></p>
<ol>
<li>导出来 <strong>inp</strong> 文件，用 <em>Excel</em> 或者是 <em>Orginlab</em> 来修改。把 <strong>ipot 2</strong> 的位置删掉后，再让后面的 ipots 往前推一位。完了再复制回 FEFF 窗口运行就行了；</li>
<li>这是一个常见的问题，不要害怕。</li>
</ol>
<blockquote>
<p>Q9: webatom这个网页打不开是因为需要翻墙吗</p>
</blockquote>
<p><strong>A9:</strong></p>
<ol>
<li>不，是服务器垃圾。但也许科学上网可以一试；</li>
<li>注意上传的文件得放在全英文的路径中。</li>
</ol>
<blockquote>
<p>Q10: 多个壳层的path，可以从不同晶体文件里获得吗？</p>
</blockquote>
<p><strong>A10:</strong></p>
<ol>
<li>思路以结构类似为准。先保证结构足够类似，原子距离足够接近；</li>
<li>优先一个晶体能全部拿下，那是最好的；</li>
<li>如果一个晶体拿不下（常见情况），完全可以取不同的晶体结构，但依然需要满足条件 1。</li>
</ol>
]]></content>
    </entry>
</feed>