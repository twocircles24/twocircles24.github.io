<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>你问我不一定答 | 第六期 | 两个圈 Two Circles</title>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-9GGCLQK1YP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9GGCLQK1YP');
</script>

<script>
(function() {
  var s = localStorage.getItem('theme');
  var m = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
  var t = s || (m ? 'dark' : 'light');
  document.documentElement.setAttribute('data-theme', t);
})();
</script>

<link rel="stylesheet" href="/css/main.min.0677f7c8c7dea0ca8172cc72c1b76103dc0d451fc5eb5625b2194298e44c4127.css" integrity="sha256-Bnf3yMfeoMqBcsxywbdhA9wNRR/F61YlshlCmORMQSc=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@5/dist/photoswipe.css">




<script defer src="https://cdn.jsdelivr.net/npm/fuse.js@7.0.0"></script>
        <script src="/js/main.f2b85918d76ed992fd44333e06e475c6b58b77f6c86f2d9276db1056d86725c2.js" integrity="sha256-8rhZGNdu2ZL9RDM&#43;BuR1xrWLd/bIby2SdtsQVthnJcI=" crossorigin="anonymous"></script>


</head>
<body>
  <header>
    <div class="site-header">
<div class="site-header__left">
<a class="brand" href="/">两个圈 Two Circles</a>
<button class="theme-toggle" type="button" aria-label="Toggle theme" data-theme-toggle>
<svg class="icon icon-moon" viewBox="0 0 24 24" aria-hidden="true" fill="currentColor" width="20" height="20">
<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
</svg>
<svg class="icon icon-sun" viewBox="0 0 24 24" aria-hidden="true" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" width="20" height="20">
<circle cx="12" cy="12" r="4"></circle>
<path d="M12 2v2m0 16v2M22 12h-2M4 12H2m15.364 6.364-1.414-1.414M8.05 8.05 6.636 6.636m10.728 0L15.95 8.05M8.05 15.95 6.636 17.364"></path>
</svg>
</button>
</div>
<div class="site-header__right">
<button class="nav-toggle" type="button" aria-controls="main-menu" aria-expanded="false" data-nav-toggle>Menu</button>

  <nav id="main-menu" class="site-nav" data-nav aria-label="Primary">
    <ul class="nav-list">
    <li>
      <a href="/">Home</a>
    </li>
    <li>
      <a href="/archive/">Archive</a>
    </li>
    <li>
      <a href="/tags/">Tags</a>
    </li>
    <li>
      <a href="/about/">About</a>
    </li>
    </ul>
  </nav>

</div>
</div>

  </header>
  <main>
    
  
  
  
  
  <article class="content">
    <h1>你问我不一定答 | 第六期</h1>
    <p class="post-meta"><time datetime="2021-03-24T12:26:12&#43;00:00">March 24, 2021</time></p>




    <p>(10 min 30 s reading) 通过邮件来提问是一个更好的方式。</p>
<!-- raw HTML omitted -->
<p><strong>阅读提示1：回答仅代表我一个人的看法，不代表正确解决问题的办法。我有不知道答案的问题，也有不懂回答错误的问题。如果我有讲错地方，请告诉我还有其他人。</strong></p>
<p><strong>阅读提示2：问题来源于 B 站 or 微博，问题有可能被重新整理，先后顺序不代表任何重要程度，如果你的提问被收入但觉得不合适，请联系我。</strong></p>
<hr>
<blockquote>
<p>Q51: 在导入cif文件时，无法导入，提示“Atoms is unable to use crystal data which has sites of partial occupancy. Sorry”。请问如何解决？</p>
</blockquote>
<p><strong>A51:</strong></p>
<p>Partial occupancy 是一个很常见的问题，在晶体文件里面出现很频繁。简单来说是同一个坐标上面有两个或两个以上的原子。解决方案：</p>
<ol>
<li>放弃这个文件（我常用）</li>
<li>通过 Avogadro 这类软件把多于的原子删掉，直到每个坐标上面只有一个原子。</li>
</ol>
<!-- raw HTML omitted -->
<blockquote>
<p>Q52: XES和RIXS技术原理的区别是什么，能从中得到的信息具体有什么不同？</p>
</blockquote>
<p><strong>A52: （此回答我表示只是我一个人的理解）</strong></p>
<p>RIXS 技术需要 XAS 和 XES 联动。XAS指的是吸收谱，也就是入射光被吸收（photon in）。那光被吸收后，内层电子产生空穴，高能轨道上的电子跃迁回空穴，而这个跃迁伴随荧光产生，也就是释放光子（photon out），也就是发射谱。</p>
<p>XES 特指发射谱，但XES可以分为 resonant XES 和 non resonant XES。对于问到的 RIXS 其实是利用的是 resonant XES，这里的 resonant 的意思是入射光与发射光能量相近，允许 resonance 发生（中文大约叫共振？）。但是这个向下跃迁是非弹性的 (inelastic)，所以存在能量损失，这就是为什么能看到RIXS map 横坐标是 energy loss，并且图是一张二维的，有点像EXAFS里面的小波转换，这样就能看到入射光与能量损失之间的关系。而跃迁都是发生在轨道和轨道之间，因此对于指定跃迁，energy loss 是可以计算出来的。</p>
<p>VtC XES 这就归为 non-resonant XES，跟 RIXS 是完全不一样的路线了。因为它对入射光没有共振要求，要的只是把空穴打出来让价电子掉下来而已。</p>
<p>那总结一点，RIXS是使用了一部分的XES，而XES里面也有很多技术（X-ray Raman, HERFD-XANES, etc.）不同于 RIXS ，至于各自能做什么，那只能具体问题具体讲了。我觉得<a href="http://www.pieter-glatzel.de/XASXES.html">这个网站</a>讲的还不错，大致分了几类，有兴趣可以看看。</p>
<!-- raw HTML omitted -->
<p>对于 HERFD-XANES，不等于荧光谱。荧光的来源是样品吸收之后产生的发射光（到这里大家都是一样的），那么：</p>
<ol>
<li>
<p>对于荧光模式，是因为荧光的能量与被吸收的光存在关联，所以一定程度可以替代透射谱。但是，透射和荧光模式都受限于 core-hole life，所以 XANES 区间始终有 broadening 效应。或者说普通XANES 分辨率受限于 core-hole life。荧光谱里面也分total photon yield（PIPS or Lytle 检测器），或energy dispersive 检测器收集指定跃迁能量，那也就说Kα，Kβ理论来说随你选（实际测试中有实验方面的考量，比较看个例）</p>
</li>
<li>
<p>HREFD-XANES 强大的地方是在于硬件重新设计后（Roland Ring），能突破这个core-hole life限制，从而 XANES 分辨率提高。HERFD 也可以选择Kα，Kβ，还是取决于具体实验以及目的。以及 HERFD-XANES，RIXS,XES 其实是通一套硬件，但不同的数据收集而已。 跟普通的 XAS 不能同时在一条线站上获得。</p>
</li>
</ol>
<!-- raw HTML omitted -->
<blockquote>
<p>53: 薛齐同学在 SPring8 做了 XAS。但是收到数据发现和其他地方做的不太一样。纵轴的单位居然是角度，不是能量。他找到了一个<a href="https://www-ssrl.slac.stanford.edu/smb/programs/xas/awecalc.html">网站</a>可以把角度转换成能量。他当时的测试条件是 Si(111)。</p>
</blockquote>
<p>非常感谢他的 data point。其实 monochromator 调整能量的原理是利用 Brag 原理。换言之，在机械层面上调整的是两个晶面的角度从而调整入射能量。那么这个角度被称作 Encoder，这个角度通过 Brag 方程是可以转换为能量。只是对于开放给普通用户的线站来说，工作人员已经把这个转换过程在后端给做了，所以感觉会少见一些。但是在一些初期的 instrumentation 研发上，使用 encoder 来交流会更方便一些。</p>
<!-- raw HTML omitted -->
<blockquote>
<p>Q54: 数据中第一壳层需要用三个path来拟合，然而对应的R window只有1-2，导致independent points不太够。是否可以把R window扩大到0.5-2以获得更多的independent points？</p>
</blockquote>
<p><strong>A54:</strong></p>
<p>如果要扩大到 0.5 ，至少得回到 Athena 确保 Rbkg 那里设置的参数低于 0.5。但我也专门做过 <a href="https://www.bilibili.com/video/BV1uD4y1m7xS?share_source=copy_web">Rbkg 的视频</a>，讲过 Rbkg 的合理选择范围。建议你去看看。我个人几乎不会选择到 0.5 这个数值，原因是没有一个 path 的距离是 1.0 Å。</p>
<p>增加 independent points 除了增加 R 范围，还有 k 范围（我猜测已经尝试过了），但除此之外还可以做的是减少变量，也正是你第二个问题所问到的：尝试把 σ^2^ 数值使用同一个，这样变量数量也会减少。但也有其他的限制参数的方式，灵活使用，善用其他表征告诉你的信息来做出判断。</p>
<!-- raw HTML omitted -->
<blockquote>
<p>Q55: 同一壳层的不同path是否可以采用同一个σ2？σ2拟合得到负值，可能是什么原因引起的？应该如何调整参数呢？</p>
</blockquote>
<p><strong>A55:</strong></p>
<p>可以这么假定，但是也要留意是否都是同样 scattering 模式（single vs. multiple scattering）还有其他的差异，如果这两条path是接近的或是跟中心原子成键方式类似，也可以这么尝试。</p>
<p>σ^2^ 是负数说明明明应该衰减的wavefunction现在却要增强， 说明 amplitude 不够，那么无非是增加配位数，增加 path（本质也是增加 amplitude）等等。或者 S<del>0</del>^2^ 不对，或者说你假定的模型有问题。如果不能理解，参考<a href="https://www.bilibili.com/video/BV1Mk4y1B7Vz?share_source=copy_web">从EXAFS 方程讨论拟合变量视频</a>。</p>
<!-- raw HTML omitted -->
<blockquote>
<p>Q56: 样品中存在掺杂，即partial占位的情况。我把cif文件根据三种占位情况改成了3种纯占位的版本，用三个cif文件分别计算path，拟合时从不同的cif获得不同的path可以吗？</p>
</blockquote>
<p><strong>A56:</strong></p>
<p>技术层面来说，FEFF只在意原子之间距离，并不会考虑改动后的结构是否稳定，所以随便改它都能给跑的出来结果，不论这个结构是否合理。</p>
<p>如果我这么去改动 cif，我会问自己这取代后的结构是否是稳定的，有什么证据它们是稳定的。如果是，那我会尝试使用。如果对结构稳定性没有把握，那我会先模拟跑一下。因为擅自更改了原子之后，之前的原子之间的距离（或者键长）并不一定是最优距离，需要优化之后才会是最稳定的结构，而这样你要使用的path 距离也会改变。所以慎重。</p>
<!-- raw HTML omitted -->
<blockquote>
<p>Q57: 参考图谱都已经完成了 calibration 和alignment ，但是 2015 年样品参考图谱的mu(E)相较其他两个批次相差了很多。 类似的，在 2016 年的实验中，同一样品不同scan location的参考图谱在mu(E)值上也有一定的差别，而这点在另外两个批次的实验中并没有体现。根据对你教学视频以及参考书上reference spectra的理解，如果reference foil没有变质，那么不同scan得到的参考图谱应该是基本一致的。但很显然在 2016 这一批次的实验中，尽管几个peak的位置没有变化，但是参考图谱的能量值是在波动的，请问这是正常的情况吗？有没有可能是机器校准的因素造成了这样的波动呢？</p>
</blockquote>
<p><strong>A57:</strong></p>
<p>正常。其中一个原因是可能 normalization 的条件对于不同批次的实验会不一样。以及你假设所有reference is transmission signal，不存在 self-absorption情况，但可能有例外（极少情况）。还有一个比较复杂的原因，简单来说是 slit vertical size 可能改变，导致了 XANES 偏移，这个可以参考 SSRL YouTube 上面的视频讲解。最后两条原因都归类于实验因素。</p>
<!-- raw HTML omitted -->
<blockquote>
<p>Q58: （承接上个问题）在三批次的实验中都测量了fresh sample（可以理解为对同一样品测量了三次），并使用了 2015 年测量的standards对三个批次的样品做了LCF。结果显示2016 批次中fresh sample的组成与前两批次相差许多，并且拟合的精确度也差很多。请问这可能是使用了不同批次测得的 reference spectra的原因造成的吗？</p>
</blockquote>
<p><strong>A58:</strong></p>
<p>有可能。但也有可能是样品（指这里的 standard）会有所不同。我个人不使用不同批次得到数据进行 LCF。如果是不同时间得到的谱图，background subtraction 参数可能不太一样，那么需要调节。但问题就会变成“调节成什么样才是对的呢”，这对我来说几乎是个无解的问题，所以在一开始就会要求把这些样品一批在同一时间测试。</p>
<!-- raw HTML omitted -->
<blockquote>
<p>Q59: 由于normalization的不同导致了参考图谱形状的不同，不过即使我把pre-edge和normalization range都设置成一致的，这样的波动还是存在。此外有一点：2015和2016批次的实验中，normalization range的最大值大概在1100-1200eV，但是 2017 年批次的实验中normalization最大只能达到850eV。这是应该是因为实验参数不同造成的？会不会也是产生波动的原因呢？</p>
</blockquote>
<p><strong>A59：</strong></p>
<p>并非参数设置成一致，而是对每个批次的谱图使用不同的参数从而使得normalized之后的谱图变成一样。至于最大值，有可能是采集数据的时候采集的范围有所不同，只需要看下两次数据各自采集到了多少 eV 范围就有概念了。可能会影响谱图导致有所不同，所以才会试图使用不同的 normalization 参数来调整成一样（成功的几率未知）</p>
<!-- raw HTML omitted -->
<blockquote>
<p>Q60: 对于不同批次（以及不同scan）的样品，reference spectra的波动是否正常，怎样的波动是可以接受的。</p>
</blockquote>
<p><strong>A60:</strong></p>
<p>波动是正常的。是否可以接受取决于你处理数据目的。比如做 LCF，（提问者）就意识到了拿不同批次做的standard拟合未知样品出现问题。但如果我只是拿来简单比较下 XANES，white line 等等，我更在意的是峰的位置，前面两张图中的偏差也不是不能接受。</p>
<!-- raw HTML omitted -->
<pre><code>感谢你的阅读以及主动交流的朋友们。
</code></pre>

    
  <div class="post-tags">
    <ul class="tag-list">
        <li>
          <a class="tag-chip tag-sm" href="/tags/qa/">q&amp;a</a>
        </li>
        <li>
          <a class="tag-chip tag-sm" href="/tags/xafs/">xafs</a>
        </li>
    </ul>
  </div>

  </article>
  

  </main>
  <footer>
    <p>My anger matters, so does yours.</p>
<p style="font-size: 12px;">Powered by <a href="https://gohugo.io/" target="_blank">Hugo</a> & <a
        href="https://github.com/binbinsh/hugo-trainsh" target="_blank">trainsh</a></p>
  </footer>
  
</body>
</html>
